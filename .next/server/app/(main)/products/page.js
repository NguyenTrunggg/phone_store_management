(()=>{var e={};e.id=817,e.ids=[817],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},84770:e=>{"use strict";e.exports=require("crypto")},80665:e=>{"use strict";e.exports=require("dns")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},35816:e=>{"use strict";e.exports=require("process")},76162:e=>{"use strict";e.exports=require("stream")},74026:e=>{"use strict";e.exports=require("string_decoder")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},98061:e=>{"use strict";e.exports=require("node:assert")},92761:e=>{"use strict";e.exports=require("node:async_hooks")},72254:e=>{"use strict";e.exports=require("node:buffer")},40027:e=>{"use strict";e.exports=require("node:console")},6005:e=>{"use strict";e.exports=require("node:crypto")},65714:e=>{"use strict";e.exports=require("node:diagnostics_channel")},15673:e=>{"use strict";e.exports=require("node:events")},88849:e=>{"use strict";e.exports=require("node:http")},42725:e=>{"use strict";e.exports=require("node:http2")},87503:e=>{"use strict";e.exports=require("node:net")},38846:e=>{"use strict";e.exports=require("node:perf_hooks")},39630:e=>{"use strict";e.exports=require("node:querystring")},84492:e=>{"use strict";e.exports=require("node:stream")},31764:e=>{"use strict";e.exports=require("node:tls")},41041:e=>{"use strict";e.exports=require("node:url")},47261:e=>{"use strict";e.exports=require("node:util")},93746:e=>{"use strict";e.exports=require("node:util/types")},24086:e=>{"use strict";e.exports=require("node:worker_threads")},65628:e=>{"use strict";e.exports=require("node:zlib")},29343:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>h,pages:()=>d,routeModule:()=>u,tree:()=>o}),s(84805),s(58522),s(35866),s(26682);var a=s(23191),i=s(88716),r=s(37922),n=s.n(r),l=s(95231),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);s.d(t,c);let o=["",{children:["(main)",{children:["products",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,84805)),"D:\\phone_store_management\\phone_store_management\\src\\app\\(main)\\products\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,58522)),"D:\\phone_store_management\\phone_store_management\\src\\app\\(main)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,26682)),"D:\\phone_store_management\\phone_store_management\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],d=["D:\\phone_store_management\\phone_store_management\\src\\app\\(main)\\products\\page.tsx"],h="/(main)/products/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/(main)/products/page",pathname:"/products",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},79420:(e,t,s)=>{Promise.resolve().then(s.bind(s,33715))},75290:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},88307:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},33715:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Z});var a=s(10326),i=s(17577),r=s(29752),n=s(91664),l=s(41190),c=s(38443),o=s(83855),d=s(88307),h=s(75290),m=s(83495),u=s(48705),p=s(12714),x=s(70003),g=s(98091);let v=0,j=new Map,f=e=>{if(j.has(e))return;let t=setTimeout(()=>{j.delete(e),w({type:"REMOVE_TOAST",toastId:e})},1e6);j.set(e,t)},y=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?f(s):e.toasts.forEach(e=>{f(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},N=[],b={toasts:[]};function w(e){b=y(b,e),N.forEach(e=>{e(b)})}function k({...e}){let t=(v=(v+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>w({type:"DISMISS_TOAST",toastId:t});return w({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||s()}}}),{id:t,dismiss:s,update:e=>w({type:"UPDATE_TOAST",toast:{...e,id:t}})}}var C=s(18695),P=s(94001),_=s(24118),T=s(44794),S=s(82015),$=s(87542),q=s(94019),A=s(29280);let I=({data:e,onChange:t})=>{let[s,r]=(0,i.useState)(""),d=()=>{s.trim()&&!e.tags.includes(s.trim())&&(t({tags:[...e.tags,s.trim()]}),r(""))},h=s=>{t({tags:e.tags.filter((e,t)=>t!==s)})};return(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Th\xf4ng tin cơ bản"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx(T._,{htmlFor:"name",children:"T\xean sản phẩm *"}),a.jsx(l.I,{id:"name",value:e.name,onChange:e=>t({name:e.target.value}),placeholder:"iPhone 15 Pro Max"})]}),(0,a.jsxs)("div",{children:[a.jsx(T._,{htmlFor:"brand",children:"Thương hiệu"}),(0,a.jsxs)(A.Ph,{value:e.brand,onValueChange:e=>t({brand:e}),children:[a.jsx(A.i4,{children:a.jsx(A.ki,{})}),(0,a.jsxs)(A.Bw,{children:[a.jsx(A.Ql,{value:"Apple",children:"Apple"}),a.jsx(A.Ql,{value:"Samsung",children:"Samsung"}),a.jsx(A.Ql,{value:"Xiaomi",children:"Xiaomi"})]})]})]})]}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:(0,a.jsxs)("div",{children:[a.jsx(T._,{htmlFor:"category",children:"Danh mục"}),(0,a.jsxs)(A.Ph,{value:e.category,onValueChange:e=>t({category:e}),children:[a.jsx(A.i4,{children:a.jsx(A.ki,{})}),(0,a.jsxs)(A.Bw,{children:[a.jsx(A.Ql,{value:"Điện thoại di động",children:"Điện thoại di động"}),a.jsx(A.Ql,{value:"Tablet",children:"Tablet"}),a.jsx(A.Ql,{value:"Phụ kiện",children:"Phụ kiện"})]})]})]})}),(0,a.jsxs)("div",{children:[a.jsx(T._,{htmlFor:"description",children:"M\xf4 tả sản phẩm *"}),a.jsx(S.g,{id:"description",value:e.description,onChange:e=>t({description:e.target.value}),placeholder:"M\xf4 tả chi tiết về sản phẩm...",rows:3})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[a.jsx(T._,{children:"Từ kh\xf3a sản phẩm"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map((e,t)=>(0,a.jsxs)(c.C,{variant:"secondary",className:"flex items-center gap-1",children:[e,a.jsx(q.Z,{className:"w-3 h-3 cursor-pointer hover:text-red-500",onClick:()=>h(t)})]},t))}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx(l.I,{placeholder:"Th\xeam từ kh\xf3a mới...",value:s,onChange:e=>r(e.target.value),onKeyPress:e=>"Enter"===e.key&&d()}),a.jsx(n.z,{variant:"outline",onClick:d,disabled:!s.trim(),children:a.jsx(o.Z,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx($.r,{checked:e.isActive,onCheckedChange:e=>t({isActive:e})}),a.jsx(T._,{children:"K\xedch hoạt sản phẩm"})]})]})};var L=s(76557);let V=(0,L.Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),B=(0,L.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),E=({data:e,onChange:t})=>(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"H\xecnh ảnh sản phẩm"}),(0,a.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[a.jsx(V,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"K\xe9o thả h\xecnh ảnh v\xe0o đ\xe2y hoặc click để chọn"}),(0,a.jsxs)(n.z,{variant:"outline",children:[a.jsx(B,{className:"w-4 h-4 mr-2"}),"Chọn h\xecnh ảnh"]})]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Hỗ trợ: JPG, PNG, WebP. K\xedch thước tối đa: 5MB. Khuyến nghị: 800x800px"}),(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-medium",children:"T\xf3m tắt sản phẩm"}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"T\xean sản phẩm:"}),a.jsx("p",{className:"font-medium",children:e.name||"Chưa nhập"})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Thương hiệu:"}),a.jsx("p",{className:"font-medium",children:e.brand})]})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"M\xf4 tả:"}),a.jsx("p",{className:"text-sm",children:e.description||"Chưa nhập"})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Số biến thể:"}),(0,a.jsxs)("p",{className:"font-medium",children:[e.variants.length," biến thể"]})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-sm text-gray-500",children:"Gi\xe1 từ:"}),(0,a.jsxs)("p",{className:"font-medium text-blue-600",children:[Math.min(...e.variants.map(e=>e.retailPrice||0)).toLocaleString("vi-VN"),"₫ -"," ",Math.max(...e.variants.map(e=>e.retailPrice||0)).toLocaleString("vi-VN"),"₫"]})]})]})]})]}),M=(0,L.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),D=({data:e,onChange:t,editMode:s=!1,loading:r=!1})=>{let[d,m]=(0,i.useState)([]),[u,p]=(0,i.useState)([]),[x,g]=(0,i.useState)(""),[v,j]=(0,i.useState)(""),[f,y]=(0,i.useState)(0);(0,i.useEffect)(()=>{if(e.variants.length>0){let t=[...new Set(e.variants.map(e=>e.colorName).filter(Boolean))],s=[...new Set(e.variants.map(e=>e.storageCapacity).filter(Boolean))];t.length>0&&m(t),s.length>0&&p(s);let a=e.variants[0];a&&a.retailPrice>0&&y(a.retailPrice)}},[e.variants]),(0,i.useEffect)(()=>{e.variants.length>0&&e.name&&t({variants:e.variants.map(e=>({...e,sku:C(e.colorName,e.storageCapacity)}))})},[e.name]);let N=e=>{if(e.trim()&&!d.includes(e.trim())){let t=[...d,e.trim()];m(t),g(""),u.length>0&&P(t,u)}},b=e=>{let t=d.filter((t,s)=>s!==e);m(t),P(t,u)},w=e=>{if(e.trim()&&!u.includes(e.trim())){let t=[...u,e.trim()];p(t),j(""),d.length>0&&P(d,t)}},k=e=>{let t=u.filter((t,s)=>s!==e);p(t),P(d,t)},C=(t,s)=>{if(!e.name)return"";let a=e.name.split(" ").map(e=>e.charAt(0)).join("").toUpperCase(),i=s.replace("GB","").replace("TB","T"),r=t.split(" ").map(e=>e.charAt(0)).join("").toUpperCase();return`${a}-${i}-${r}`},P=(s,a)=>{if(0===s.length||0===a.length){t({variants:[]});return}let i=[];for(let t of s)for(let s of a){let a=e.variants.find(e=>e.colorName===t&&e.storageCapacity===s);a?i.push({...a,sku:a.sku||C(t,s),productId:a.productId||""}):i.push({productId:"",sku:C(t,s),colorName:t,storageCapacity:s,retailPrice:f})}t({variants:i})},_=(s,a,i)=>{let r=[...e.variants];r[s]={...r[s],[a]:i},t({variants:r})},S=()=>{0!==e.variants.length&&t({variants:e.variants.map(e=>({...e,retailPrice:f||e.retailPrice}))})};return r?(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsx("h3",{className:"text-lg font-semibold",children:s?"Chỉnh sửa biến thể sản phẩm":"Tạo biến thể sản phẩm"})}),(0,a.jsxs)("div",{className:"flex items-center justify-center py-8",children:[a.jsx(h.Z,{className:"w-8 h-8 animate-spin mr-2"}),a.jsx("span",{children:"Đang tải biến thể hiện c\xf3..."})]})]}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-semibold",children:s?"Chỉnh sửa biến thể sản phẩm":"Tạo biến thể sản phẩm"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(n.z,{variant:"outline",size:"sm",onClick:()=>{P(d,u)},disabled:0===d.length||0===u.length||!e.name,children:[a.jsx(M,{className:"w-4 h-4 mr-1"}),s?"Đồng bộ":"Tạo"," biến thể (",d.length," \xd7"," ",u.length," = ",d.length*u.length,")"]}),e.variants.length>0&&f>0&&a.jsx(n.z,{variant:"outline",size:"sm",onClick:S,children:"\xc1p dụng gi\xe1 cho tất cả"})]})]}),!e.name&&a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:(0,a.jsxs)("p",{className:"text-sm text-yellow-800",children:["Vui l\xf2ng nhập t\xean sản phẩm ở bước 1 để"," ",s?"chỉnh sửa":"tạo"," biến thể"]})}),s&&e.variants.length>0&&a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,a.jsxs)("p",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"Chế độ chỉnh sửa:"})," Đ\xe3 tải ",e.variants.length," ","biến thể hiện c\xf3. Bạn c\xf3 thể th\xeam m\xe0u/dung lượng mới hoặc chỉnh sửa biến thể hiện tại."]})}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)(T._,{className:"text-base font-medium",children:["Gi\xe1 cơ bản cho ",s?"biến thể mới":"tất cả biến thể"]}),a.jsx("div",{className:"grid grid-cols-1 gap-3",children:(0,a.jsxs)("div",{children:[a.jsx(T._,{children:"Gi\xe1 b\xe1n (VNĐ) *"}),a.jsx(l.I,{type:"number",value:f||"",onChange:s=>{let a=Number(s.target.value)||0;y(a),e.variants.length>0&&t({variants:e.variants.map(e=>({...e,retailPrice:e.retailPrice>0?e.retailPrice:a}))})},placeholder:"34990000"})]})}),a.jsx("p",{className:"text-xs text-gray-500",children:s?"Gi\xe1 n\xe0y sẽ được \xe1p dụng cho biến thể mới. Biến thể hiện c\xf3 sẽ giữ nguy\xean gi\xe1.":"Gi\xe1 n\xe0y sẽ được \xe1p dụng cho biến thể mới. Bạn c\xf3 thể điều chỉnh từng biến thể ri\xeang lẻ sau."})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)(T._,{className:"text-base font-medium",children:["M\xe0u sắc (",d.length," đ\xe3 chọn)"]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Chọn nhanh:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:["Natural Titanium","Blue Titanium","White Titanium","Black Titanium","Pink","Yellow","Green","Blue","Purple","Red","White","Black"].map(e=>a.jsx(n.z,{variant:d.includes(e)?"default":"outline",size:"sm",onClick:()=>N(e),disabled:d.includes(e),children:e},e))})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx(l.I,{placeholder:"Nhập m\xe0u t\xf9y chỉnh...",value:x,onChange:e=>g(e.target.value),onKeyPress:e=>"Enter"===e.key&&N(x)}),a.jsx(n.z,{variant:"outline",onClick:()=>N(x),disabled:!x.trim()||d.includes(x.trim()),children:a.jsx(o.Z,{className:"w-4 h-4"})})]}),d.length>0&&(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:"M\xe0u đ\xe3 chọn:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:d.map((e,t)=>(0,a.jsxs)(c.C,{variant:"secondary",className:"flex items-center gap-1",children:[e,a.jsx(q.Z,{className:"w-3 h-3 cursor-pointer hover:text-red-500",onClick:()=>b(t)})]},t))})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)(T._,{className:"text-base font-medium",children:["Dung lượng bộ nhớ (",u.length," đ\xe3 chọn)"]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Chọn nhanh:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:["128GB","256GB","512GB","1TB"].map(e=>a.jsx(n.z,{variant:u.includes(e)?"default":"outline",size:"sm",onClick:()=>w(e),disabled:u.includes(e),children:e},e))})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx(l.I,{placeholder:"Nhập dung lượng t\xf9y chỉnh (VD: 2TB)...",value:v,onChange:e=>j(e.target.value),onKeyPress:e=>"Enter"===e.key&&w(v)}),a.jsx(n.z,{variant:"outline",onClick:()=>w(v),disabled:!v.trim()||u.includes(v.trim()),children:a.jsx(o.Z,{className:"w-4 h-4"})})]}),u.length>0&&(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:"Dung lượng đ\xe3 chọn:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:u.map((e,t)=>(0,a.jsxs)(c.C,{variant:"secondary",className:"flex items-center gap-1",children:[e,a.jsx(q.Z,{className:"w-3 h-3 cursor-pointer hover:text-red-500",onClick:()=>k(t)})]},t))})]})]}),e.variants.length>0&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("h4",{className:"text-base font-medium",children:[s?"Biến thể sản phẩm":"Biến thể được tạo"," (",e.variants.length,")"]}),f>0&&(0,a.jsxs)(n.z,{variant:"outline",size:"sm",onClick:S,children:["\xc1p dụng gi\xe1 ",f.toLocaleString("vi-VN"),"₫ cho tất cả"]})]}),a.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:e.variants.map((e,t)=>(0,a.jsxs)("div",{className:"border rounded-lg p-3 bg-gray-50",children:[(0,a.jsxs)("div",{className:"grid grid-cols-12 gap-3 items-center",children:[(0,a.jsxs)("div",{className:"col-span-4",children:[(0,a.jsxs)("p",{className:"font-medium text-sm",children:[e.storageCapacity," - ",e.colorName]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["SKU: ",e.sku]}),s&&a.jsx("p",{className:"text-xs text-blue-600",children:e.productId?"Biến thể hiện c\xf3":"Biến thể mới"})]}),(0,a.jsxs)("div",{className:"col-span-4",children:[a.jsx(T._,{className:"text-xs",children:"Gi\xe1 b\xe1n (VNĐ) *"}),a.jsx(l.I,{type:"number",value:e.retailPrice||"",onChange:e=>_(t,"retailPrice",Number(e.target.value)||0),className:"h-8",placeholder:"34990000"}),(!e.retailPrice||e.retailPrice<=0)&&a.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Gi\xe1 b\xe1n l\xe0 bắt buộc"})]}),(0,a.jsxs)("div",{className:"col-span-4",children:[a.jsx(T._,{className:"text-xs",children:"SKU"}),a.jsx(l.I,{value:e.sku,onChange:e=>_(t,"sku",e.target.value),className:"h-8",placeholder:"IP15PM-256-TN",disabled:s&&!!e.productId}),s&&e.productId&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"SKU của biến thể hiện c\xf3 kh\xf4ng thể thay đổi"})]})]}),e.retailPrice>0&&(0,a.jsxs)("div",{className:"mt-2 text-xs text-green-600",children:["Gi\xe1: ",e.retailPrice.toLocaleString("vi-VN"),"₫"]})]},t))}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Tổng biến thể:"}),a.jsx("span",{className:"ml-2 font-medium",children:e.variants.length})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Biến thể hợp lệ:"}),a.jsx("span",{className:"ml-2 font-medium text-green-600",children:e.variants.filter(e=>e.colorName?.trim()&&e.storageCapacity?.trim()&&e.retailPrice>0&&e.sku?.trim()).length})]}),s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Biến thể hiện c\xf3:"}),a.jsx("span",{className:"ml-2 font-medium text-blue-600",children:e.variants.filter(e=>e.productId).length})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Biến thể mới:"}),a.jsx("span",{className:"ml-2 font-medium text-orange-600",children:e.variants.filter(e=>!e.productId).length})]})]})]}),e.variants.some(e=>!e.retailPrice||e.retailPrice<=0)&&a.jsx("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded",children:a.jsx("p",{className:"text-xs text-yellow-700",children:"⚠️ Một số biến thể chưa c\xf3 gi\xe1 b\xe1n. Vui l\xf2ng nhập gi\xe1 cho tất cả biến thể."})})]})]}),(d.length>0||u.length>0)&&(0,a.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium mb-2",children:"T\xf3m tắt tạo biến thể"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-gray-500",children:"M\xe0u sắc:"}),(0,a.jsxs)("span",{className:"ml-2 font-medium",children:[d.length," m\xe0u"]})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Dung lượng:"}),(0,a.jsxs)("span",{className:"ml-2 font-medium",children:[u.length," loại"]})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Tổng biến thể c\xf3 thể tạo:"}),(0,a.jsxs)("span",{className:"ml-2 font-medium text-blue-600",children:[d.length," \xd7 ",u.length," ="," ",d.length*u.length]})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Biến thể đ\xe3 tạo:"}),a.jsx("span",{className:"ml-2 font-medium",children:e.variants.length})]})]}),d.length>0&&u.length>0&&e.variants.length!==d.length*u.length&&a.jsx("div",{className:"mt-3 p-2 bg-white rounded border border-blue-200",children:(0,a.jsxs)("p",{className:"text-sm text-blue-700",children:['Nhấn "Tạo biến thể" để đồng bộ với'," ",d.length*u.length," biến thể từ c\xe1c lựa chọn hiện tại."]})})]}),0===d.length&&0===u.length&&0===e.variants.length&&(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500 border-2 border-dashed border-gray-200 rounded-lg",children:[a.jsx("p",{className:"font-medium",children:"Bắt đầu tạo biến thể"}),a.jsx("p",{className:"text-sm mt-1",children:"Chọn m\xe0u sắc v\xe0 dung lượng bộ nhớ để tự động tạo c\xe1c biến thể sản phẩm"})]})]})},z=({isOpen:e,onClose:t,onSubmit:s,submitting:r=!1,editProduct:l=null,mode:c="create"})=>{let[o,d]=(0,i.useState)(1),[m,u]=(0,i.useState)(!1),[p,x]=(0,i.useState)({name:"",brand:"Apple",category:"Điện thoại di động",description:"",features:[],variants:[],images:[],isActive:!0,tags:[]});(0,i.useEffect)(()=>{let t=async()=>{if("edit"===c&&l){if(x({name:l.name||"",brand:l.brand||"Apple",category:l.category||"Điện thoại di động",description:l.description||"",features:[],variants:[],images:l.images?.map(e=>e.url)||[],isActive:l.isActive??!0,tags:l.tags||[]}),l.id){u(!0);try{let e=await C._.getVariantsByProductId(l.id);if(e.success&&e.data){let t=e.data.map(e=>({productId:e.productId,sku:e.sku,colorName:e.colorName,storageCapacity:e.storageCapacity,retailPrice:e.retailPrice,imageUrl:e.imageUrl??"",attributes:e.attributes,lowStockThreshold:e.lowStockThreshold,reorderLevel:e.reorderLevel,launchDate:e.launchDate?.toDate()}));x(e=>({...e,variants:t}))}}catch(e){console.error("Error loading variants:",e)}finally{u(!1)}}}else"create"===c&&x({name:"",brand:"Apple",category:"Điện thoại di động",description:"",features:[],variants:[],images:[],isActive:!0,tags:[]})};e&&t()},[c,l,e]);let g=e=>{x(t=>({...t,...e}))},v=()=>{d(1),x({name:"",brand:"Apple",category:"Điện thoại di động",description:"",features:[],variants:[],images:[],isActive:!0,tags:[]})},j=async()=>{"edit"===c&&l?await s(p,l.id):await s(p)},f=()=>{r||(v(),t())};return a.jsx(_.Vq,{open:e,onOpenChange:f,children:(0,a.jsxs)(_.cZ,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(_.fK,{children:[a.jsx(_.$N,{children:"edit"===c&&l?`Chỉnh sửa sản phẩm: ${l.name}`:"Th\xeam sản phẩm mới"}),(0,a.jsxs)(_.Be,{children:["Bước ",o,"/3: ",(()=>{switch(o){case 1:return"Th\xf4ng tin cơ bản";case 2:return"Biến thể sản phẩm";case 3:return"H\xecnh ảnh & X\xe1c nhận";default:return""}})()]})]}),a.jsx("div",{className:"flex items-center justify-between mb-6",children:[1,2,3].map(e=>(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${e<=o?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:e}),e<3&&a.jsx("div",{className:`w-16 h-1 mx-2 ${e<o?"bg-blue-600":"bg-gray-200"}`})]},e))}),a.jsx("div",{className:"py-4",children:(()=>{switch(o){case 1:return a.jsx(I,{data:p,onChange:g});case 2:return a.jsx(D,{data:p,onChange:g,editMode:"edit"===c,loading:m});case 3:return a.jsx(E,{data:p,onChange:g});default:return null}})()}),(0,a.jsxs)(_.cN,{className:"flex justify-between",children:[a.jsx("div",{children:o>1&&a.jsx(n.z,{variant:"outline",onClick:()=>{d(e=>Math.max(e-1,1))},disabled:r,children:"Quay lại"})}),(0,a.jsxs)("div",{className:"space-x-2",children:[a.jsx(n.z,{variant:"outline",onClick:f,disabled:r,children:"Hủy"}),o<3?a.jsx(n.z,{onClick:()=>{d(e=>Math.min(e+1,3))},disabled:r,children:"Tiếp theo"}):a.jsx(n.z,{onClick:j,disabled:r,children:r?(0,a.jsxs)(a.Fragment,{children:[a.jsx(h.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"edit"===c?"Đang cập nhật...":"Đang tạo..."]}):"edit"===c?"Cập nhật sản phẩm":"Tạo sản phẩm"})]})]})]})})};function Z(){let{getSession:e,user:t,initializing:s}=(0,P.aC)(),[v,j]=(0,i.useState)([]),[f,y]=(0,i.useState)([]),[_,T]=(0,i.useState)([]),[S,$]=(0,i.useState)(!0),[q,A]=(0,i.useState)(!1),[I,L]=(0,i.useState)(!1),[V,B]=(0,i.useState)(!1),[E,M]=(0,i.useState)(""),[D,Z]=(0,i.useState)(!1),[G,K]=(0,i.useState)("create"),[O,U]=(0,i.useState)(null),[Q,R]=(0,i.useState)(null),{toast:H}=function(){let[e,t]=i.useState(b);return i.useEffect(()=>(N.push(t),()=>{let e=N.indexOf(t);e>-1&&N.splice(e,1)}),[e]),{...e,toast:k,dismiss:e=>w({type:"DISMISS_TOAST",toastId:e})}}(),F=async e=>{try{$(!0);let t=await C._.searchProducts(e);if(t.success&&t.data){let e=[];for(let s of t.data){let t=await C._.getProductWithVariants(s.id);t.success&&t.data&&e.push(t.data)}j(e)}else H({title:"Lỗi",description:t.error||"Kh\xf4ng thể tải danh s\xe1ch sản phẩm",variant:"destructive"})}catch(e){H({title:"Lỗi",description:"Đ\xe3 xảy ra lỗi khi tải dữ liệu",variant:"destructive"})}finally{$(!1)}},X=async()=>{try{A(!0);let e=await C._.searchVariants();e.success&&e.data&&y(e.data)}catch(e){H({title:"Lỗi",description:"Kh\xf4ng thể tải danh s\xe1ch biến thể",variant:"destructive"})}finally{A(!1)}},W=async(e,t)=>{"edit"===G&&t?await J(t,e):await Y(e)},Y=async t=>{try{if(B(!0),!t.name?.trim()||!t.description?.trim()){H({title:"Lỗi",description:"Vui l\xf2ng điền đầy đủ th\xf4ng tin cơ bản!",variant:"destructive"});return}if(!t.variants||0===t.variants.length){H({title:"Lỗi",description:"Vui l\xf2ng tạo \xedt nhất một biến thể!",variant:"destructive"});return}let s=t.variants.filter(e=>!e.storageCapacity?.trim()||!e.colorName?.trim()||!e.retailPrice||e.retailPrice<=0);if(s.length>0){H({title:"Lỗi",description:`${s.length} biến thể kh\xf4ng hợp lệ. Vui l\xf2ng kiểm tra lại th\xf4ng tin!`,variant:"destructive"});return}console.log("Creating product with form data:",t);let a=e()?.user.uid;console.log("Current user ID:",a);let i={name:t.name.trim(),description:t.description.trim(),brand:t.brand?.trim()||"Apple",category:t.category?.trim()||"Điện thoại di động"};t.tags&&t.tags.length>0&&(i.tags=t.tags.filter(e=>e.trim())),console.log("Creating product with input:",i);let r=await C._.createProduct(i,a);if(!r.success){console.error("Product creation failed:",r),H({title:"Lỗi",description:r.error||"Kh\xf4ng thể tạo sản phẩm",variant:"destructive"});return}let n=r.data.id;console.log("Product created successfully with ID:",n);let l=0,c=0,o=[];for(let[e,s]of t.variants.entries()){console.log(`Creating variant ${e+1}/${t.variants.length}:`,s);try{let t={productId:n,colorName:s.colorName.trim(),storageCapacity:s.storageCapacity.trim(),retailPrice:s.retailPrice};s.sku?.trim()&&(t.sku=s.sku.trim()),console.log("Clean variant input:",t);let i=await C._.createVariant(n,s,a);i.success?(console.log(`Variant ${e+1} created successfully:`,i.data),l++):(console.error(`Variant creation failed for variant ${e+1}:`,i),c++,o.push(`${s.colorName} ${s.storageCapacity}: ${i.error}`))}catch(t){console.error(`Exception creating variant ${e+1}:`,t),c++,o.push(`${s.colorName} ${s.storageCapacity}: Lỗi kh\xf4ng x\xe1c định`)}}l>0?(H({title:"Th\xe0nh c\xf4ng",description:`Tạo sản phẩm th\xe0nh c\xf4ng với ${l} biến thể${c>0?` (${c} biến thể thất bại)`:""}!`}),await F(),await X()):H({title:"Lỗi",description:`Kh\xf4ng thể tạo biến thể n\xe0o cho sản phẩm. Lỗi: ${o.slice(0,2).join(", ")}${o.length>2?"...":""}`,variant:"destructive"}),o.length>0&&console.error("Variant creation errors:",o)}catch(e){console.error("Product creation error:",e),H({title:"Lỗi",description:"Đ\xe3 xảy ra lỗi khi tạo sản phẩm",variant:"destructive"})}finally{B(!1),Z(!1)}},J=async(t,s)=>{try{if(B(!0),!s.name?.trim()||!s.description?.trim()){H({title:"Lỗi",description:"Vui l\xf2ng điền đầy đủ th\xf4ng tin cơ bản!",variant:"destructive"});return}console.log("Updating product with form data:",s);let a=e()?.user.uid;console.log("Current user ID:",a);let i={name:s.name.trim(),description:s.description.trim(),brand:s.brand?.trim(),category:s.category?.trim(),isActive:s.isActive};s.tags&&s.tags.length>0&&(i.tags=s.tags.filter(e=>e.trim())),console.log("Updating product with input:",i);let r=await C._.updateProduct(t,i,a);if(!r.success){console.error("Product update failed:",r),H({title:"Lỗi",description:r.error||"Kh\xf4ng thể cập nhật sản phẩm",variant:"destructive"});return}if(console.log("Product updated successfully"),s.variants&&s.variants.length>0){console.log("Processing variants for edit:",s.variants);let e=await C._.getVariantsByProductId(t),i=e.success&&e.data||[];console.log("Existing variants:",i);let r=0,n=0,l=[];for(let[e,c]of s.variants.entries()){console.log(`Processing variant ${e+1}/${s.variants.length}:`,c);try{if(!c.colorName?.trim()||!c.storageCapacity?.trim()||!c.retailPrice||c.retailPrice<=0){console.error(`Variant ${e+1} validation failed:`,c),n++,l.push(`${c.colorName} ${c.storageCapacity}: Dữ liệu kh\xf4ng hợp lệ`);continue}if(c.productId&&c.productId===t){let s=i.find(e=>e.colorName===c.colorName&&e.storageCapacity===c.storageCapacity);if(s){console.log(`Updating existing variant: ${s.id}`);let i={retailPrice:c.retailPrice,imageUrl:c.imageUrl,attributes:c.attributes,lowStockThreshold:c.lowStockThreshold,reorderLevel:c.reorderLevel},o=await C._.updateVariant(t,s.id,i,a);o.success?(console.log(`Variant ${e+1} updated successfully`),r++):(console.error(`Variant ${e+1} update failed:`,o),n++,l.push(`${c.colorName} ${c.storageCapacity}: ${o.error}`))}else{console.log("Existing variant not found, creating new variant");let s=await C._.createVariant(t,{...c,productId:t},a);s.success?(console.log(`New variant ${e+1} created successfully`),r++):(console.error(`New variant ${e+1} creation failed:`,s),n++,l.push(`${c.colorName} ${c.storageCapacity}: ${s.error}`))}}else{console.log(`Creating new variant: ${c.colorName} ${c.storageCapacity}`);let s=await C._.createVariant(t,{...c,productId:t},a);s.success?(console.log(`New variant ${e+1} created successfully`),r++):(console.error(`New variant ${e+1} creation failed:`,s),n++,l.push(`${c.colorName} ${c.storageCapacity}: ${s.error}`))}}catch(t){console.error(`Exception processing variant ${e+1}:`,t),n++,l.push(`${c.colorName} ${c.storageCapacity}: Lỗi kh\xf4ng x\xe1c định`)}}console.log("Variant processing completed:",{success:r,failed:n,errors:l}),r>0?H({title:"Th\xe0nh c\xf4ng",description:`Cập nhật sản phẩm th\xe0nh c\xf4ng${r>0?` với ${r} biến thể`:""}${n>0?` (${n} biến thể thất bại)`:""}!`}):n>0?H({title:"Cảnh b\xe1o",description:`Cập nhật sản phẩm th\xe0nh c\xf4ng nhưng ${n} biến thể thất bại. Lỗi: ${l.slice(0,2).join(", ")}${l.length>2?"...":""}`,variant:"destructive"}):H({title:"Th\xe0nh c\xf4ng",description:"Cập nhật sản phẩm th\xe0nh c\xf4ng!"}),l.length>0&&console.error("Variant processing errors:",l)}else H({title:"Th\xe0nh c\xf4ng",description:"Cập nhật sản phẩm th\xe0nh c\xf4ng!"});Z(!1),R(null),K("create"),await F()}catch(e){console.error("Product update error:",e),H({title:"Lỗi",description:"Đ\xe3 xảy ra lỗi khi cập nhật sản phẩm",variant:"destructive"})}finally{B(!1)}},ee=e=>{K("edit"),R(e),Z(!0)},et=async()=>{let e={searchTerm:E.trim()||void 0,isActive:!0,sortBy:"name",sortOrder:"asc"};await F(e)},es=v.filter(e=>e.name.toLowerCase().includes(E.toLowerCase())||e.description?.toLowerCase().includes(E.toLowerCase())),ea=async(e,t)=>{if(confirm(`Bạn c\xf3 chắc chắn muốn x\xf3a ${t}?`))try{let t=await C._.delete(e);t.success?(H({title:"Th\xe0nh c\xf4ng",description:"X\xf3a sản phẩm th\xe0nh c\xf4ng!"}),await F()):H({title:"Lỗi",description:t.error||"Kh\xf4ng thể x\xf3a sản phẩm",variant:"destructive"})}catch(e){H({title:"Lỗi",description:"Đ\xe3 xảy ra lỗi khi x\xf3a sản phẩm",variant:"destructive"})}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Quản l\xfd sản phẩm"}),a.jsx("p",{className:"text-gray-600",children:"Quản l\xfd danh mục sản phẩm iPhone v\xe0 c\xe1c biến thể"})]}),(0,a.jsxs)(n.z,{onClick:()=>{K("create"),R(null),Z(!0)},children:[a.jsx(o.Z,{className:"w-4 h-4 mr-2"}),"Th\xeam sản phẩm mới"]})]}),a.jsx(z,{isOpen:D,onClose:()=>{Z(!1),R(null),K("create")},onSubmit:W,submitting:V,mode:G,editProduct:Q}),(0,a.jsxs)(r.Zb,{children:[a.jsx(r.Ol,{children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx(r.ll,{children:"Danh s\xe1ch sản phẩm"}),(0,a.jsxs)("div",{className:"relative w-64",children:[a.jsx(d.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(l.I,{placeholder:"T\xecm kiếm sản phẩm...",value:E,onChange:e=>M(e.target.value),onKeyPress:e=>"Enter"===e.key&&et(),className:"pl-10"})]})]})}),a.jsx(r.aY,{children:S?(0,a.jsxs)("div",{className:"flex items-center justify-center py-8",children:[a.jsx(h.Z,{className:"w-8 h-8 animate-spin"}),a.jsx("span",{className:"ml-2",children:"Đang tải..."})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[es.map(e=>(0,a.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:a.jsx(m.Z,{className:"w-6 h-6 text-gray-600"})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold text-lg",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[e.brand," • ",e.category]}),(0,a.jsxs)("p",{className:"text-xs text-gray-400",children:["Tạo ng\xe0y:"," ",e.createdAt?.toDate?.()?.toLocaleDateString?.()||"N/A"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)(c.C,{variant:"outline",children:[a.jsx(u.Z,{className:"w-3 h-3 mr-1"}),e.totalStock," chiếc"]}),a.jsx(c.C,{variant:e.isActive?"default":"secondary",children:e.isActive?"Hoạt động":"Tạm dừng"}),a.jsx(n.z,{variant:"ghost",size:"sm",onClick:()=>U(e),children:a.jsx(p.Z,{className:"w-4 h-4"})}),a.jsx(n.z,{variant:"ghost",size:"sm",onClick:()=>ee(e),children:a.jsx(x.Z,{className:"w-4 h-4"})}),a.jsx(n.z,{variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-700",onClick:()=>ea(e.id,e.name),children:a.jsx(g.Z,{className:"w-4 h-4"})})]})]}),a.jsx("div",{className:"mb-3",children:a.jsx("p",{className:"text-sm text-gray-600",children:e.description})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:e.variants.map(e=>a.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-medium text-sm",children:[e.storageCapacity," - ",e.colorName]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["SKU: ",e.sku]})]}),a.jsx(c.C,{variant:(e.stockQuantity||0)>0?"default":"secondary",children:e.stockQuantity||0})]})},e.id))})]},e.id)),0===es.length&&!S&&a.jsx("div",{className:"text-center py-8 text-gray-500",children:"Kh\xf4ng t\xecm thấy sản phẩm n\xe0o"})]})})]})]})}},87542:(e,t,s)=>{"use strict";s.d(t,{r:()=>w});var a=s(10326),i=s(17577),r=s(82561),n=s(48051),l=s(93095),c=s(52067),o=s(53405),d=s(2566),h=s(45226),m="Switch",[u,p]=(0,l.b)(m),[x,g]=u(m),v=i.forwardRef((e,t)=>{let{__scopeSwitch:s,name:l,checked:o,defaultChecked:d,required:m,disabled:u,value:p="on",onCheckedChange:g,form:v,...j}=e,[f,b]=i.useState(null),w=(0,n.e)(t,e=>b(e)),k=i.useRef(!1),C=!f||v||!!f.closest("form"),[P=!1,_]=(0,c.T)({prop:o,defaultProp:d,onChange:g});return(0,a.jsxs)(x,{scope:s,checked:P,disabled:u,children:[(0,a.jsx)(h.WV.button,{type:"button",role:"switch","aria-checked":P,"aria-required":m,"data-state":N(P),"data-disabled":u?"":void 0,disabled:u,value:p,...j,ref:w,onClick:(0,r.M)(e.onClick,e=>{_(e=>!e),C&&(k.current=e.isPropagationStopped(),k.current||e.stopPropagation())})}),C&&(0,a.jsx)(y,{control:f,bubbles:!k.current,name:l,value:p,checked:P,required:m,disabled:u,form:v,style:{transform:"translateX(-100%)"}})]})});v.displayName=m;var j="SwitchThumb",f=i.forwardRef((e,t)=>{let{__scopeSwitch:s,...i}=e,r=g(j,s);return(0,a.jsx)(h.WV.span,{"data-state":N(r.checked),"data-disabled":r.disabled?"":void 0,...i,ref:t})});f.displayName=j;var y=e=>{let{control:t,checked:s,bubbles:r=!0,...n}=e,l=i.useRef(null),c=(0,o.D)(s),h=(0,d.t)(t);return i.useEffect(()=>{let e=l.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(c!==s&&t){let a=new Event("click",{bubbles:r});t.call(e,s),e.dispatchEvent(a)}},[c,s,r]),(0,a.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...n,tabIndex:-1,ref:l,style:{...e.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function N(e){return e?"checked":"unchecked"}var b=s(51223);let w=i.forwardRef(({className:e,...t},s)=>a.jsx(v,{className:(0,b.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:s,children:a.jsx(f,{className:(0,b.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));w.displayName=v.displayName},84805:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(68570).createProxy)(String.raw`D:\phone_store_management\phone_store_management\src\app\(main)\products\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[560,367,738,54,530,479,478,686],()=>s(29343));module.exports=a})();