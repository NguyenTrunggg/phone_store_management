(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[817],{6273:function(e,t,a){Promise.resolve().then(a.bind(a,8833))},2208:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9763).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5863:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},4794:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9763).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},4630:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9763).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},3247:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9763).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},3388:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9763).Z)("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]])},8930:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9763).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},8833:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return O}});var s=a(7437),i=a(2265),n=a(9820),r=a(2381),c=a(279),l=a(9174),d=a(9397),o=a(3247),h=a(5863),m=a(3388),u=a(4794),x=a(2208),g=a(4630),p=a(8930);let v=0,j=new Map,y=e=>{if(j.has(e))return;let t=setTimeout(()=>{j.delete(e),w({type:"REMOVE_TOAST",toastId:e})},1e6);j.set(e,t)},f=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?y(a):e.toasts.forEach(e=>{y(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},N=[],b={toasts:[]};function w(e){b=f(b,e),N.forEach(e=>{e(b)})}function k(e){let{...t}=e,a=(v=(v+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>w({type:"DISMISS_TOAST",toastId:a});return w({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>w({type:"UPDATE_TOAST",toast:{...e,id:a}})}}var C=a(87),P=a(4362),T=a(4291),S=a(5060),I=a(3675),_=a(163),A=a(2489),M=a(5291);let V=e=>{let{data:t,onChange:a}=e,[n,o]=(0,i.useState)(""),h=()=>{n.trim()&&!t.tags.includes(n.trim())&&(a({tags:[...t.tags,n.trim()]}),o(""))},m=e=>{a({tags:t.tags.filter((t,a)=>a!==e)})};return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Th\xf4ng tin cơ bản"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(S._,{htmlFor:"name",children:"T\xean sản phẩm *"}),(0,s.jsx)(c.I,{id:"name",value:t.name,onChange:e=>a({name:e.target.value}),placeholder:"iPhone 15 Pro Max"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(S._,{htmlFor:"brand",children:"Thương hiệu"}),(0,s.jsxs)(M.Ph,{value:t.brand,onValueChange:e=>a({brand:e}),children:[(0,s.jsx)(M.i4,{children:(0,s.jsx)(M.ki,{})}),(0,s.jsxs)(M.Bw,{children:[(0,s.jsx)(M.Ql,{value:"Apple",children:"Apple"}),(0,s.jsx)(M.Ql,{value:"Samsung",children:"Samsung"}),(0,s.jsx)(M.Ql,{value:"Xiaomi",children:"Xiaomi"})]})]})]})]}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)(S._,{htmlFor:"category",children:"Danh mục"}),(0,s.jsxs)(M.Ph,{value:t.category,onValueChange:e=>a({category:e}),children:[(0,s.jsx)(M.i4,{children:(0,s.jsx)(M.ki,{})}),(0,s.jsxs)(M.Bw,{children:[(0,s.jsx)(M.Ql,{value:"Điện thoại di động",children:"Điện thoại di động"}),(0,s.jsx)(M.Ql,{value:"Tablet",children:"Tablet"}),(0,s.jsx)(M.Ql,{value:"Phụ kiện",children:"Phụ kiện"})]})]})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(S._,{htmlFor:"description",children:"M\xf4 tả sản phẩm *"}),(0,s.jsx)(I.g,{id:"description",value:t.description,onChange:e=>a({description:e.target.value}),placeholder:"M\xf4 tả chi tiết về sản phẩm...",rows:3})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(S._,{children:"Từ kh\xf3a sản phẩm"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:t.tags.map((e,t)=>(0,s.jsxs)(l.C,{variant:"secondary",className:"flex items-center gap-1",children:[e,(0,s.jsx)(A.Z,{className:"w-3 h-3 cursor-pointer hover:text-red-500",onClick:()=>m(t)})]},t))}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(c.I,{placeholder:"Th\xeam từ kh\xf3a mới...",value:n,onChange:e=>o(e.target.value),onKeyPress:e=>"Enter"===e.key&&h()}),(0,s.jsx)(r.z,{variant:"outline",onClick:h,disabled:!n.trim(),children:(0,s.jsx)(d.Z,{className:"w-4 h-4"})})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(_.r,{checked:t.isActive,onCheckedChange:e=>a({isActive:e})}),(0,s.jsx)(S._,{children:"K\xedch hoạt sản phẩm"})]})]})};var L=a(9763);let Z=(0,L.Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),B=(0,L.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),E=e=>{let{data:t,onChange:a}=e;return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"H\xecnh ảnh sản phẩm"}),(0,s.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[(0,s.jsx)(Z,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),(0,s.jsx)("p",{className:"text-gray-500 mb-4",children:"K\xe9o thả h\xecnh ảnh v\xe0o đ\xe2y hoặc click để chọn"}),(0,s.jsxs)(r.z,{variant:"outline",children:[(0,s.jsx)(B,{className:"w-4 h-4 mr-2"}),"Chọn h\xecnh ảnh"]})]}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Hỗ trợ: JPG, PNG, WebP. K\xedch thước tối đa: 5MB. Khuyến nghị: 800x800px"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h4",{className:"font-medium",children:"T\xf3m tắt sản phẩm"}),(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-sm text-gray-500",children:"T\xean sản phẩm:"}),(0,s.jsx)("p",{className:"font-medium",children:t.name||"Chưa nhập"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-sm text-gray-500",children:"Thương hiệu:"}),(0,s.jsx)("p",{className:"font-medium",children:t.brand})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-sm text-gray-500",children:"M\xf4 tả:"}),(0,s.jsx)("p",{className:"text-sm",children:t.description||"Chưa nhập"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-sm text-gray-500",children:"Số biến thể:"}),(0,s.jsxs)("p",{className:"font-medium",children:[t.variants.length," biến thể"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-sm text-gray-500",children:"Gi\xe1 từ:"}),(0,s.jsxs)("p",{className:"font-medium text-blue-600",children:[Math.min(...t.variants.map(e=>e.retailPrice||0)).toLocaleString("vi-VN"),"₫ -"," ",Math.max(...t.variants.map(e=>e.retailPrice||0)).toLocaleString("vi-VN"),"₫"]})]})]})]})]})},z=(0,L.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),D=e=>{let{data:t,onChange:a,editMode:n=!1,loading:o=!1}=e,[m,u]=(0,i.useState)([]),[x,g]=(0,i.useState)([]),[p,v]=(0,i.useState)(""),[j,y]=(0,i.useState)(""),[f,N]=(0,i.useState)(0);(0,i.useEffect)(()=>{if(t.variants.length>0){let e=[...new Set(t.variants.map(e=>e.colorName).filter(Boolean))],a=[...new Set(t.variants.map(e=>e.storageCapacity).filter(Boolean))];e.length>0&&u(e),a.length>0&&g(a);let s=t.variants[0];s&&s.retailPrice>0&&N(s.retailPrice)}},[t.variants]),(0,i.useEffect)(()=>{t.variants.length>0&&t.name&&a({variants:t.variants.map(e=>({...e,sku:P(e.colorName,e.storageCapacity)}))})},[t.name]);let b=e=>{if(e.trim()&&!m.includes(e.trim())){let t=[...m,e.trim()];u(t),v(""),x.length>0&&T(t,x)}},w=e=>{let t=m.filter((t,a)=>a!==e);u(t),T(t,x)},k=e=>{if(e.trim()&&!x.includes(e.trim())){let t=[...x,e.trim()];g(t),y(""),m.length>0&&T(m,t)}},C=e=>{let t=x.filter((t,a)=>a!==e);g(t),T(m,t)},P=(e,a)=>{if(!t.name)return"";let s=t.name.split(" ").map(e=>e.charAt(0)).join("").toUpperCase(),i=a.replace("GB","").replace("TB","T"),n=e.split(" ").map(e=>e.charAt(0)).join("").toUpperCase();return"".concat(s,"-").concat(i,"-").concat(n)},T=(e,s)=>{if(0===e.length||0===s.length){a({variants:[]});return}let i=[];for(let a of e)for(let e of s){let s=t.variants.find(t=>t.colorName===a&&t.storageCapacity===e);s?i.push({...s,sku:s.sku||P(a,e),productId:s.productId||""}):i.push({productId:"",sku:P(a,e),colorName:a,storageCapacity:e,retailPrice:f})}a({variants:i})},I=(e,s,i)=>{let n=[...t.variants];n[e]={...n[e],[s]:i},a({variants:n})},_=()=>{0!==t.variants.length&&a({variants:t.variants.map(e=>({...e,retailPrice:f||e.retailPrice}))})};return o?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"flex justify-between items-center",children:(0,s.jsx)("h3",{className:"text-lg font-semibold",children:n?"Chỉnh sửa biến thể sản phẩm":"Tạo biến thể sản phẩm"})}),(0,s.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,s.jsx)(h.Z,{className:"w-8 h-8 animate-spin mr-2"}),(0,s.jsx)("span",{children:"Đang tải biến thể hiện c\xf3..."})]})]}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:n?"Chỉnh sửa biến thể sản phẩm":"Tạo biến thể sản phẩm"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(r.z,{variant:"outline",size:"sm",onClick:()=>{T(m,x)},disabled:0===m.length||0===x.length||!t.name,children:[(0,s.jsx)(z,{className:"w-4 h-4 mr-1"}),n?"Đồng bộ":"Tạo"," biến thể (",m.length," \xd7"," ",x.length," = ",m.length*x.length,")"]}),t.variants.length>0&&f>0&&(0,s.jsx)(r.z,{variant:"outline",size:"sm",onClick:_,children:"\xc1p dụng gi\xe1 cho tất cả"})]})]}),!t.name&&(0,s.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:(0,s.jsxs)("p",{className:"text-sm text-yellow-800",children:["Vui l\xf2ng nhập t\xean sản phẩm ở bước 1 để"," ",n?"chỉnh sửa":"tạo"," biến thể"]})}),n&&t.variants.length>0&&(0,s.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,s.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,s.jsx)("strong",{children:"Chế độ chỉnh sửa:"})," Đ\xe3 tải ",t.variants.length," ","biến thể hiện c\xf3. Bạn c\xf3 thể th\xeam m\xe0u/dung lượng mới hoặc chỉnh sửa biến thể hiện tại."]})}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)(S._,{className:"text-base font-medium",children:["Gi\xe1 cơ bản cho ",n?"biến thể mới":"tất cả biến thể"]}),(0,s.jsx)("div",{className:"grid grid-cols-1 gap-3",children:(0,s.jsxs)("div",{children:[(0,s.jsx)(S._,{children:"Gi\xe1 b\xe1n (VNĐ) *"}),(0,s.jsx)(c.I,{type:"number",value:f||"",onChange:e=>{let s=Number(e.target.value)||0;N(s),t.variants.length>0&&a({variants:t.variants.map(e=>({...e,retailPrice:e.retailPrice>0?e.retailPrice:s}))})},placeholder:"34990000"})]})}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:n?"Gi\xe1 n\xe0y sẽ được \xe1p dụng cho biến thể mới. Biến thể hiện c\xf3 sẽ giữ nguy\xean gi\xe1.":"Gi\xe1 n\xe0y sẽ được \xe1p dụng cho biến thể mới. Bạn c\xf3 thể điều chỉnh từng biến thể ri\xeang lẻ sau."})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)(S._,{className:"text-base font-medium",children:["M\xe0u sắc (",m.length," đ\xe3 chọn)"]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Chọn nhanh:"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:["Natural Titanium","Blue Titanium","White Titanium","Black Titanium","Pink","Yellow","Green","Blue","Purple","Red","White","Black"].map(e=>(0,s.jsx)(r.z,{variant:m.includes(e)?"default":"outline",size:"sm",onClick:()=>b(e),disabled:m.includes(e),children:e},e))})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(c.I,{placeholder:"Nhập m\xe0u t\xf9y chỉnh...",value:p,onChange:e=>v(e.target.value),onKeyPress:e=>"Enter"===e.key&&b(p)}),(0,s.jsx)(r.z,{variant:"outline",onClick:()=>b(p),disabled:!p.trim()||m.includes(p.trim()),children:(0,s.jsx)(d.Z,{className:"w-4 h-4"})})]}),m.length>0&&(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,s.jsx)("p",{className:"text-sm font-medium mb-2",children:"M\xe0u đ\xe3 chọn:"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:m.map((e,t)=>(0,s.jsxs)(l.C,{variant:"secondary",className:"flex items-center gap-1",children:[e,(0,s.jsx)(A.Z,{className:"w-3 h-3 cursor-pointer hover:text-red-500",onClick:()=>w(t)})]},t))})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)(S._,{className:"text-base font-medium",children:["Dung lượng bộ nhớ (",x.length," đ\xe3 chọn)"]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Chọn nhanh:"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:["128GB","256GB","512GB","1TB"].map(e=>(0,s.jsx)(r.z,{variant:x.includes(e)?"default":"outline",size:"sm",onClick:()=>k(e),disabled:x.includes(e),children:e},e))})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(c.I,{placeholder:"Nhập dung lượng t\xf9y chỉnh (VD: 2TB)...",value:j,onChange:e=>y(e.target.value),onKeyPress:e=>"Enter"===e.key&&k(j)}),(0,s.jsx)(r.z,{variant:"outline",onClick:()=>k(j),disabled:!j.trim()||x.includes(j.trim()),children:(0,s.jsx)(d.Z,{className:"w-4 h-4"})})]}),x.length>0&&(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,s.jsx)("p",{className:"text-sm font-medium mb-2",children:"Dung lượng đ\xe3 chọn:"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:x.map((e,t)=>(0,s.jsxs)(l.C,{variant:"secondary",className:"flex items-center gap-1",children:[e,(0,s.jsx)(A.Z,{className:"w-3 h-3 cursor-pointer hover:text-red-500",onClick:()=>C(t)})]},t))})]})]}),t.variants.length>0&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("h4",{className:"text-base font-medium",children:[n?"Biến thể sản phẩm":"Biến thể được tạo"," (",t.variants.length,")"]}),f>0&&(0,s.jsxs)(r.z,{variant:"outline",size:"sm",onClick:_,children:["\xc1p dụng gi\xe1 ",f.toLocaleString("vi-VN"),"₫ cho tất cả"]})]}),(0,s.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:t.variants.map((e,t)=>(0,s.jsxs)("div",{className:"border rounded-lg p-3 bg-gray-50",children:[(0,s.jsxs)("div",{className:"grid grid-cols-12 gap-3 items-center",children:[(0,s.jsxs)("div",{className:"col-span-4",children:[(0,s.jsxs)("p",{className:"font-medium text-sm",children:[e.storageCapacity," - ",e.colorName]}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:["SKU: ",e.sku]}),n&&(0,s.jsx)("p",{className:"text-xs text-blue-600",children:e.productId?"Biến thể hiện c\xf3":"Biến thể mới"})]}),(0,s.jsxs)("div",{className:"col-span-4",children:[(0,s.jsx)(S._,{className:"text-xs",children:"Gi\xe1 b\xe1n (VNĐ) *"}),(0,s.jsx)(c.I,{type:"number",value:e.retailPrice||"",onChange:e=>I(t,"retailPrice",Number(e.target.value)||0),className:"h-8",placeholder:"34990000"}),(!e.retailPrice||e.retailPrice<=0)&&(0,s.jsx)("p",{className:"text-xs text-red-500 mt-1",children:"Gi\xe1 b\xe1n l\xe0 bắt buộc"})]}),(0,s.jsxs)("div",{className:"col-span-4",children:[(0,s.jsx)(S._,{className:"text-xs",children:"SKU"}),(0,s.jsx)(c.I,{value:e.sku,onChange:e=>I(t,"sku",e.target.value),className:"h-8",placeholder:"IP15PM-256-TN",disabled:n&&!!e.productId}),n&&e.productId&&(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"SKU của biến thể hiện c\xf3 kh\xf4ng thể thay đổi"})]})]}),e.retailPrice>0&&(0,s.jsxs)("div",{className:"mt-2 text-xs text-green-600",children:["Gi\xe1: ",e.retailPrice.toLocaleString("vi-VN"),"₫"]})]},t))}),(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500",children:"Tổng biến thể:"}),(0,s.jsx)("span",{className:"ml-2 font-medium",children:t.variants.length})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500",children:"Biến thể hợp lệ:"}),(0,s.jsx)("span",{className:"ml-2 font-medium text-green-600",children:t.variants.filter(e=>{var t,a,s;return(null===(t=e.colorName)||void 0===t?void 0:t.trim())&&(null===(a=e.storageCapacity)||void 0===a?void 0:a.trim())&&e.retailPrice>0&&(null===(s=e.sku)||void 0===s?void 0:s.trim())}).length})]}),n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500",children:"Biến thể hiện c\xf3:"}),(0,s.jsx)("span",{className:"ml-2 font-medium text-blue-600",children:t.variants.filter(e=>e.productId).length})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500",children:"Biến thể mới:"}),(0,s.jsx)("span",{className:"ml-2 font-medium text-orange-600",children:t.variants.filter(e=>!e.productId).length})]})]})]}),t.variants.some(e=>!e.retailPrice||e.retailPrice<=0)&&(0,s.jsx)("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded",children:(0,s.jsx)("p",{className:"text-xs text-yellow-700",children:"⚠️ Một số biến thể chưa c\xf3 gi\xe1 b\xe1n. Vui l\xf2ng nhập gi\xe1 cho tất cả biến thể."})})]})]}),(m.length>0||x.length>0)&&(0,s.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"font-medium mb-2",children:"T\xf3m tắt tạo biến thể"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500",children:"M\xe0u sắc:"}),(0,s.jsxs)("span",{className:"ml-2 font-medium",children:[m.length," m\xe0u"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500",children:"Dung lượng:"}),(0,s.jsxs)("span",{className:"ml-2 font-medium",children:[x.length," loại"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500",children:"Tổng biến thể c\xf3 thể tạo:"}),(0,s.jsxs)("span",{className:"ml-2 font-medium text-blue-600",children:[m.length," \xd7 ",x.length," ="," ",m.length*x.length]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-500",children:"Biến thể đ\xe3 tạo:"}),(0,s.jsx)("span",{className:"ml-2 font-medium",children:t.variants.length})]})]}),m.length>0&&x.length>0&&t.variants.length!==m.length*x.length&&(0,s.jsx)("div",{className:"mt-3 p-2 bg-white rounded border border-blue-200",children:(0,s.jsxs)("p",{className:"text-sm text-blue-700",children:['Nhấn "Tạo biến thể" để đồng bộ với'," ",m.length*x.length," biến thể từ c\xe1c lựa chọn hiện tại."]})})]}),0===m.length&&0===x.length&&0===t.variants.length&&(0,s.jsxs)("div",{className:"text-center py-8 text-gray-500 border-2 border-dashed border-gray-200 rounded-lg",children:[(0,s.jsx)("p",{className:"font-medium",children:"Bắt đầu tạo biến thể"}),(0,s.jsx)("p",{className:"text-sm mt-1",children:"Chọn m\xe0u sắc v\xe0 dung lượng bộ nhớ để tự động tạo c\xe1c biến thể sản phẩm"})]})]})},K=e=>{let{isOpen:t,onClose:a,onSubmit:n,submitting:c=!1,editProduct:l=null,mode:d="create"}=e,[o,m]=(0,i.useState)(1),[u,x]=(0,i.useState)(!1),[g,p]=(0,i.useState)({name:"",brand:"Apple",category:"Điện thoại di động",description:"",features:[],variants:[],images:[],isActive:!0,tags:[]});(0,i.useEffect)(()=>{let e=async()=>{if("edit"===d&&l){var e,t;if(p({name:l.name||"",brand:l.brand||"Apple",category:l.category||"Điện thoại di động",description:l.description||"",features:[],variants:[],images:(null===(e=l.images)||void 0===e?void 0:e.map(e=>e.url))||[],isActive:null===(t=l.isActive)||void 0===t||t,tags:l.tags||[]}),l.id){x(!0);try{let e=await C._.getVariantsByProductId(l.id);if(e.success&&e.data){let t=e.data.map(e=>{var t,a;return{productId:e.productId,sku:e.sku,colorName:e.colorName,storageCapacity:e.storageCapacity,retailPrice:e.retailPrice,imageUrl:null!==(a=e.imageUrl)&&void 0!==a?a:"",attributes:e.attributes,lowStockThreshold:e.lowStockThreshold,reorderLevel:e.reorderLevel,launchDate:null===(t=e.launchDate)||void 0===t?void 0:t.toDate()}});p(e=>({...e,variants:t}))}}catch(e){console.error("Error loading variants:",e)}finally{x(!1)}}}else"create"===d&&p({name:"",brand:"Apple",category:"Điện thoại di động",description:"",features:[],variants:[],images:[],isActive:!0,tags:[]})};t&&e()},[d,l,t]);let v=e=>{p(t=>({...t,...e}))},j=()=>{m(1),p({name:"",brand:"Apple",category:"Điện thoại di động",description:"",features:[],variants:[],images:[],isActive:!0,tags:[]})},y=async()=>{"edit"===d&&l?await n(g,l.id):await n(g)},f=()=>{c||(j(),a())};return(0,s.jsx)(T.Vq,{open:t,onOpenChange:f,children:(0,s.jsxs)(T.cZ,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)(T.fK,{children:[(0,s.jsx)(T.$N,{children:"edit"===d&&l?"Chỉnh sửa sản phẩm: ".concat(l.name):"Th\xeam sản phẩm mới"}),(0,s.jsxs)(T.Be,{children:["Bước ",o,"/3: ",(()=>{switch(o){case 1:return"Th\xf4ng tin cơ bản";case 2:return"Biến thể sản phẩm";case 3:return"H\xecnh ảnh & X\xe1c nhận";default:return""}})()]})]}),(0,s.jsx)("div",{className:"flex items-center justify-between mb-6",children:[1,2,3].map(e=>(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ".concat(e<=o?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"),children:e}),e<3&&(0,s.jsx)("div",{className:"w-16 h-1 mx-2 ".concat(e<o?"bg-blue-600":"bg-gray-200")})]},e))}),(0,s.jsx)("div",{className:"py-4",children:(()=>{switch(o){case 1:return(0,s.jsx)(V,{data:g,onChange:v});case 2:return(0,s.jsx)(D,{data:g,onChange:v,editMode:"edit"===d,loading:u});case 3:return(0,s.jsx)(E,{data:g,onChange:v});default:return null}})()}),(0,s.jsxs)(T.cN,{className:"flex justify-between",children:[(0,s.jsx)("div",{children:o>1&&(0,s.jsx)(r.z,{variant:"outline",onClick:()=>{m(e=>Math.max(e-1,1))},disabled:c,children:"Quay lại"})}),(0,s.jsxs)("div",{className:"space-x-2",children:[(0,s.jsx)(r.z,{variant:"outline",onClick:f,disabled:c,children:"Hủy"}),o<3?(0,s.jsx)(r.z,{onClick:()=>{m(e=>Math.min(e+1,3))},disabled:c,children:"Tiếp theo"}):(0,s.jsx)(r.z,{onClick:y,disabled:c,children:c?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"edit"===d?"Đang cập nhật...":"Đang tạo..."]}):"edit"===d?"Cập nhật sản phẩm":"Tạo sản phẩm"})]})]})]})})};function O(){let{getSession:e,user:t,initializing:a}=(0,P.aC)(),[v,j]=(0,i.useState)([]),[y,f]=(0,i.useState)([]),[T,S]=(0,i.useState)([]),[I,_]=(0,i.useState)(!0),[A,M]=(0,i.useState)(!1),[V,L]=(0,i.useState)(!1),[Z,B]=(0,i.useState)(!1),[E,z]=(0,i.useState)(""),[D,O]=(0,i.useState)(!1),[G,U]=(0,i.useState)("create"),[Q,H]=(0,i.useState)(null),[R,q]=(0,i.useState)(null),{toast:F}=function(){let[e,t]=i.useState(b);return i.useEffect(()=>(N.push(t),()=>{let e=N.indexOf(t);e>-1&&N.splice(e,1)}),[e]),{...e,toast:k,dismiss:e=>w({type:"DISMISS_TOAST",toastId:e})}}();(0,i.useEffect)(()=>{W(),X(),Y()},[]);let W=async e=>{try{_(!0);let t=await C._.searchProducts(e);if(t.success&&t.data){let e=[];for(let a of t.data){let t=await C._.getProductWithVariants(a.id);t.success&&t.data&&e.push(t.data)}j(e)}else F({title:"Lỗi",description:t.error||"Kh\xf4ng thể tải danh s\xe1ch sản phẩm",variant:"destructive"})}catch(e){F({title:"Lỗi",description:"Đ\xe3 xảy ra lỗi khi tải dữ liệu",variant:"destructive"})}finally{_(!1)}},X=async()=>{try{M(!0);let e=await C._.searchVariants();e.success&&e.data&&f(e.data)}catch(e){F({title:"Lỗi",description:"Kh\xf4ng thể tải danh s\xe1ch biến thể",variant:"destructive"})}finally{M(!1)}},Y=async()=>{try{L(!0),S([])}catch(e){F({title:"Lỗi",description:"Kh\xf4ng thể tải danh s\xe1ch IMEI",variant:"destructive"})}finally{L(!1)}},J=async(e,t)=>{"edit"===G&&t?await ee(t,e):await $(e)},$=async t=>{try{var a,s,i,n,r,c;if(B(!0),!(null===(a=t.name)||void 0===a?void 0:a.trim())||!(null===(s=t.description)||void 0===s?void 0:s.trim())){F({title:"Lỗi",description:"Vui l\xf2ng điền đầy đủ th\xf4ng tin cơ bản!",variant:"destructive"});return}if(!t.variants||0===t.variants.length){F({title:"Lỗi",description:"Vui l\xf2ng tạo \xedt nhất một biến thể!",variant:"destructive"});return}let l=t.variants.filter(e=>{var t,a;return!(null===(t=e.storageCapacity)||void 0===t?void 0:t.trim())||!(null===(a=e.colorName)||void 0===a?void 0:a.trim())||!e.retailPrice||e.retailPrice<=0});if(l.length>0){F({title:"Lỗi",description:"".concat(l.length," biến thể kh\xf4ng hợp lệ. Vui l\xf2ng kiểm tra lại th\xf4ng tin!"),variant:"destructive"});return}console.log("Creating product with form data:",t);let d=null===(i=e())||void 0===i?void 0:i.user.uid;console.log("Current user ID:",d);let o={name:t.name.trim(),description:t.description.trim(),brand:(null===(n=t.brand)||void 0===n?void 0:n.trim())||"Apple",category:(null===(r=t.category)||void 0===r?void 0:r.trim())||"Điện thoại di động"};t.tags&&t.tags.length>0&&(o.tags=t.tags.filter(e=>e.trim())),console.log("Creating product with input:",o);let h=await C._.createProduct(o,d);if(!h.success){console.error("Product creation failed:",h),F({title:"Lỗi",description:h.error||"Kh\xf4ng thể tạo sản phẩm",variant:"destructive"});return}let m=h.data.id;console.log("Product created successfully with ID:",m);let u=0,x=0,g=[];for(let[e,a]of t.variants.entries()){console.log("Creating variant ".concat(e+1,"/").concat(t.variants.length,":"),a);try{let t={productId:m,colorName:a.colorName.trim(),storageCapacity:a.storageCapacity.trim(),retailPrice:a.retailPrice};(null===(c=a.sku)||void 0===c?void 0:c.trim())&&(t.sku=a.sku.trim()),console.log("Clean variant input:",t);let s=await C._.createVariant(m,a,d);s.success?(console.log("Variant ".concat(e+1," created successfully:"),s.data),u++):(console.error("Variant creation failed for variant ".concat(e+1,":"),s),x++,g.push("".concat(a.colorName," ").concat(a.storageCapacity,": ").concat(s.error)))}catch(t){console.error("Exception creating variant ".concat(e+1,":"),t),x++,g.push("".concat(a.colorName," ").concat(a.storageCapacity,": Lỗi kh\xf4ng x\xe1c định"))}}u>0?(F({title:"Th\xe0nh c\xf4ng",description:"Tạo sản phẩm th\xe0nh c\xf4ng với ".concat(u," biến thể").concat(x>0?" (".concat(x," biến thể thất bại)"):"","!")}),await W(),await X()):F({title:"Lỗi",description:"Kh\xf4ng thể tạo biến thể n\xe0o cho sản phẩm. Lỗi: ".concat(g.slice(0,2).join(", ")).concat(g.length>2?"...":""),variant:"destructive"}),g.length>0&&console.error("Variant creation errors:",g)}catch(e){console.error("Product creation error:",e),F({title:"Lỗi",description:"Đ\xe3 xảy ra lỗi khi tạo sản phẩm",variant:"destructive"})}finally{B(!1),O(!1)}},ee=async(t,a)=>{try{var s,i,n,r,c,l,d;if(B(!0),!(null===(s=a.name)||void 0===s?void 0:s.trim())||!(null===(i=a.description)||void 0===i?void 0:i.trim())){F({title:"Lỗi",description:"Vui l\xf2ng điền đầy đủ th\xf4ng tin cơ bản!",variant:"destructive"});return}console.log("Updating product with form data:",a);let o=null===(n=e())||void 0===n?void 0:n.user.uid;console.log("Current user ID:",o);let h={name:a.name.trim(),description:a.description.trim(),brand:null===(r=a.brand)||void 0===r?void 0:r.trim(),category:null===(c=a.category)||void 0===c?void 0:c.trim(),isActive:a.isActive};a.tags&&a.tags.length>0&&(h.tags=a.tags.filter(e=>e.trim())),console.log("Updating product with input:",h);let m=await C._.updateProduct(t,h,o);if(!m.success){console.error("Product update failed:",m),F({title:"Lỗi",description:m.error||"Kh\xf4ng thể cập nhật sản phẩm",variant:"destructive"});return}if(console.log("Product updated successfully"),a.variants&&a.variants.length>0){console.log("Processing variants for edit:",a.variants);let e=await C._.getVariantsByProductId(t),s=e.success&&e.data||[];console.log("Existing variants:",s);let i=0,n=0,r=[];for(let[e,c]of a.variants.entries()){console.log("Processing variant ".concat(e+1,"/").concat(a.variants.length,":"),c);try{if(!(null===(l=c.colorName)||void 0===l?void 0:l.trim())||!(null===(d=c.storageCapacity)||void 0===d?void 0:d.trim())||!c.retailPrice||c.retailPrice<=0){console.error("Variant ".concat(e+1," validation failed:"),c),n++,r.push("".concat(c.colorName," ").concat(c.storageCapacity,": Dữ liệu kh\xf4ng hợp lệ"));continue}if(c.productId&&c.productId===t){let a=s.find(e=>e.colorName===c.colorName&&e.storageCapacity===c.storageCapacity);if(a){console.log("Updating existing variant: ".concat(a.id));let s={retailPrice:c.retailPrice,imageUrl:c.imageUrl,attributes:c.attributes,lowStockThreshold:c.lowStockThreshold,reorderLevel:c.reorderLevel},l=await C._.updateVariant(t,a.id,s,o);l.success?(console.log("Variant ".concat(e+1," updated successfully")),i++):(console.error("Variant ".concat(e+1," update failed:"),l),n++,r.push("".concat(c.colorName," ").concat(c.storageCapacity,": ").concat(l.error)))}else{console.log("Existing variant not found, creating new variant");let a=await C._.createVariant(t,{...c,productId:t},o);a.success?(console.log("New variant ".concat(e+1," created successfully")),i++):(console.error("New variant ".concat(e+1," creation failed:"),a),n++,r.push("".concat(c.colorName," ").concat(c.storageCapacity,": ").concat(a.error)))}}else{console.log("Creating new variant: ".concat(c.colorName," ").concat(c.storageCapacity));let a=await C._.createVariant(t,{...c,productId:t},o);a.success?(console.log("New variant ".concat(e+1," created successfully")),i++):(console.error("New variant ".concat(e+1," creation failed:"),a),n++,r.push("".concat(c.colorName," ").concat(c.storageCapacity,": ").concat(a.error)))}}catch(t){console.error("Exception processing variant ".concat(e+1,":"),t),n++,r.push("".concat(c.colorName," ").concat(c.storageCapacity,": Lỗi kh\xf4ng x\xe1c định"))}}console.log("Variant processing completed:",{success:i,failed:n,errors:r}),i>0?F({title:"Th\xe0nh c\xf4ng",description:"Cập nhật sản phẩm th\xe0nh c\xf4ng".concat(i>0?" với ".concat(i," biến thể"):"").concat(n>0?" (".concat(n," biến thể thất bại)"):"","!")}):n>0?F({title:"Cảnh b\xe1o",description:"Cập nhật sản phẩm th\xe0nh c\xf4ng nhưng ".concat(n," biến thể thất bại. Lỗi: ").concat(r.slice(0,2).join(", ")).concat(r.length>2?"...":""),variant:"destructive"}):F({title:"Th\xe0nh c\xf4ng",description:"Cập nhật sản phẩm th\xe0nh c\xf4ng!"}),r.length>0&&console.error("Variant processing errors:",r)}else F({title:"Th\xe0nh c\xf4ng",description:"Cập nhật sản phẩm th\xe0nh c\xf4ng!"});O(!1),q(null),U("create"),await W()}catch(e){console.error("Product update error:",e),F({title:"Lỗi",description:"Đ\xe3 xảy ra lỗi khi cập nhật sản phẩm",variant:"destructive"})}finally{B(!1)}},et=e=>{U("edit"),q(e),O(!0)},ea=async()=>{let e={searchTerm:E.trim()||void 0,isActive:!0,sortBy:"name",sortOrder:"asc"};await W(e)},es=v.filter(e=>{var t;return e.name.toLowerCase().includes(E.toLowerCase())||(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(E.toLowerCase()))}),ei=async(e,t)=>{if(confirm("Bạn c\xf3 chắc chắn muốn x\xf3a ".concat(t,"?")))try{let t=await C._.delete(e);t.success?(F({title:"Th\xe0nh c\xf4ng",description:"X\xf3a sản phẩm th\xe0nh c\xf4ng!"}),await W()):F({title:"Lỗi",description:t.error||"Kh\xf4ng thể x\xf3a sản phẩm",variant:"destructive"})}catch(e){F({title:"Lỗi",description:"Đ\xe3 xảy ra lỗi khi x\xf3a sản phẩm",variant:"destructive"})}};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Quản l\xfd sản phẩm"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Quản l\xfd danh mục sản phẩm iPhone v\xe0 c\xe1c biến thể"})]}),(0,s.jsxs)(r.z,{onClick:()=>{U("create"),q(null),O(!0)},children:[(0,s.jsx)(d.Z,{className:"w-4 h-4 mr-2"}),"Th\xeam sản phẩm mới"]})]}),(0,s.jsx)(K,{isOpen:D,onClose:()=>{O(!1),q(null),U("create")},onSubmit:J,submitting:Z,mode:G,editProduct:R}),(0,s.jsxs)(n.Zb,{children:[(0,s.jsx)(n.Ol,{children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)(n.ll,{children:"Danh s\xe1ch sản phẩm"}),(0,s.jsxs)("div",{className:"relative w-64",children:[(0,s.jsx)(o.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,s.jsx)(c.I,{placeholder:"T\xecm kiếm sản phẩm...",value:E,onChange:e=>z(e.target.value),onKeyPress:e=>"Enter"===e.key&&ea(),className:"pl-10"})]})]})}),(0,s.jsx)(n.aY,{children:I?(0,s.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,s.jsx)(h.Z,{className:"w-8 h-8 animate-spin"}),(0,s.jsx)("span",{className:"ml-2",children:"Đang tải..."})]}):(0,s.jsxs)("div",{className:"space-y-4",children:[es.map(e=>{var t,a,i,n;return(0,s.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,s.jsx)(m.Z,{className:"w-6 h-6 text-gray-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-lg",children:e.name}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:[e.brand," • ",e.category]}),(0,s.jsxs)("p",{className:"text-xs text-gray-400",children:["Tạo ng\xe0y:"," ",(null===(n=e.createdAt)||void 0===n?void 0:null===(i=n.toDate)||void 0===i?void 0:null===(a=i.call(n))||void 0===a?void 0:null===(t=a.toLocaleDateString)||void 0===t?void 0:t.call(a))||"N/A"]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)(l.C,{variant:"outline",children:[(0,s.jsx)(u.Z,{className:"w-3 h-3 mr-1"}),e.totalStock," chiếc"]}),(0,s.jsx)(l.C,{variant:e.isActive?"default":"secondary",children:e.isActive?"Hoạt động":"Tạm dừng"}),(0,s.jsx)(r.z,{variant:"ghost",size:"sm",onClick:()=>H(e),children:(0,s.jsx)(x.Z,{className:"w-4 h-4"})}),(0,s.jsx)(r.z,{variant:"ghost",size:"sm",onClick:()=>et(e),children:(0,s.jsx)(g.Z,{className:"w-4 h-4"})}),(0,s.jsx)(r.z,{variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-700",onClick:()=>ei(e.id,e.name),children:(0,s.jsx)(p.Z,{className:"w-4 h-4"})})]})]}),(0,s.jsx)("div",{className:"mb-3",children:(0,s.jsx)("p",{className:"text-sm text-gray-600",children:e.description})}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:e.variants.map(e=>(0,s.jsx)("div",{className:"bg-gray-50 rounded-lg p-3",children:(0,s.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"font-medium text-sm",children:[e.storageCapacity," - ",e.colorName]}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:["SKU: ",e.sku]})]}),(0,s.jsx)(l.C,{variant:(e.stockQuantity||0)>0?"default":"secondary",children:e.stockQuantity||0})]})},e.id))})]},e.id)}),0===es.length&&!I&&(0,s.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Kh\xf4ng t\xecm thấy sản phẩm n\xe0o"})]})})]})]})}},163:function(e,t,a){"use strict";a.d(t,{r:function(){return w}});var s=a(7437),i=a(2265),n=a(6741),r=a(8575),c=a(3966),l=a(886),d=a(6718),o=a(420),h=a(6840),m="Switch",[u,x]=(0,c.b)(m),[g,p]=u(m),v=i.forwardRef((e,t)=>{let{__scopeSwitch:a,name:c,checked:d,defaultChecked:o,required:m,disabled:u,value:x="on",onCheckedChange:p,form:v,...j}=e,[y,b]=i.useState(null),w=(0,r.e)(t,e=>b(e)),k=i.useRef(!1),C=!y||v||!!y.closest("form"),[P=!1,T]=(0,l.T)({prop:d,defaultProp:o,onChange:p});return(0,s.jsxs)(g,{scope:a,checked:P,disabled:u,children:[(0,s.jsx)(h.WV.button,{type:"button",role:"switch","aria-checked":P,"aria-required":m,"data-state":N(P),"data-disabled":u?"":void 0,disabled:u,value:x,...j,ref:w,onClick:(0,n.M)(e.onClick,e=>{T(e=>!e),C&&(k.current=e.isPropagationStopped(),k.current||e.stopPropagation())})}),C&&(0,s.jsx)(f,{control:y,bubbles:!k.current,name:c,value:x,checked:P,required:m,disabled:u,form:v,style:{transform:"translateX(-100%)"}})]})});v.displayName=m;var j="SwitchThumb",y=i.forwardRef((e,t)=>{let{__scopeSwitch:a,...i}=e,n=p(j,a);return(0,s.jsx)(h.WV.span,{"data-state":N(n.checked),"data-disabled":n.disabled?"":void 0,...i,ref:t})});y.displayName=j;var f=e=>{let{control:t,checked:a,bubbles:n=!0,...r}=e,c=i.useRef(null),l=(0,d.D)(a),h=(0,o.t)(t);return i.useEffect(()=>{let e=c.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(l!==a&&t){let s=new Event("click",{bubbles:n});t.call(e,a),e.dispatchEvent(s)}},[l,a,n]),(0,s.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...r,tabIndex:-1,ref:c,style:{...e.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function N(e){return e?"checked":"unchecked"}var b=a(3448);let w=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)(v,{className:(0,b.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...i,ref:t,children:(0,s.jsx)(y,{className:(0,b.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});w.displayName=v.displayName}},function(e){e.O(0,[358,139,933,825,960,41,225,252,362,831,971,117,744],function(){return e(e.s=6273)}),_N_E=e.O()}]);