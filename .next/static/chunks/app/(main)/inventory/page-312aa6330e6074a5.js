(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[264],{3223:function(e,t,s){Promise.resolve().then(s.bind(s,2714))},2714:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return en}});var a=s(7437),r=s(2265),n=s(2381),i=s(7168),l=s(4438),c=s(9397),d=s(5978),o=s(4362),h=s(9820),m=s(279),u=s(5060),p=s(3675);function x(e){let{supplierName:t,orderDate:s,expectedDeliveryDate:r,notes:n,onSupplierNameChange:i,onOrderDateChange:l,onExpectedDeliveryDateChange:c,onNotesChange:d,isLoading:o}=e;return(0,a.jsxs)(h.Zb,{children:[(0,a.jsx)(h.Ol,{children:(0,a.jsx)(h.ll,{children:"Th\xf4ng tin nh\xe0 cung cấp"})}),(0,a.jsxs)(h.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(u._,{htmlFor:"supplier-name",children:"Nh\xe0 cung cấp"}),(0,a.jsx)(m.I,{id:"supplier-name",value:t,onChange:e=>i(e.target.value),disabled:o,placeholder:"Apple Việt Nam"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u._,{htmlFor:"order-date",children:"Ng\xe0y đặt h\xe0ng"}),(0,a.jsx)(m.I,{id:"order-date",type:"date",value:s,onChange:e=>l(e.target.value),disabled:o})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u._,{htmlFor:"expected-delivery",children:"Ng\xe0y giao dự kiến (t\xf9y chọn)"}),(0,a.jsx)(m.I,{id:"expected-delivery",type:"date",value:r,onChange:e=>c(e.target.value),disabled:o})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u._,{htmlFor:"notes",children:"Ghi ch\xfa"}),(0,a.jsx)(p.g,{id:"notes",value:n,onChange:e=>d(e.target.value),disabled:o,placeholder:"Nhập ghi ch\xfa về đơn h\xe0ng...",rows:3})]})]})]})}var g=s(5291);function f(e){let{products:t,selectedProductId:s,selectedVariantId:r,unitCost:n,onProductChange:i,onVariantChange:l,onUnitCostChange:c,isLoading:d=!1}=e,o=t.find(e=>e.id===s);return(0,a.jsxs)(h.Zb,{children:[(0,a.jsx)(h.Ol,{children:(0,a.jsx)(h.ll,{children:"Chọn sản phẩm v\xe0 biến thể"})}),(0,a.jsxs)(h.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u._,{htmlFor:"product-select",children:"Model sản phẩm"}),(0,a.jsxs)(g.Ph,{value:s,onValueChange:e=>{i(e),l("")},disabled:d,children:[(0,a.jsx)(g.i4,{children:(0,a.jsx)(g.ki,{placeholder:"Chọn model..."})}),(0,a.jsx)(g.Bw,{children:t.map(e=>(0,a.jsx)(g.Ql,{value:e.id,children:e.name},e.id))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u._,{htmlFor:"variant-select",children:"Biến thể"}),(0,a.jsxs)(g.Ph,{value:r,onValueChange:l,disabled:!s||d,children:[(0,a.jsx)(g.i4,{children:(0,a.jsx)(g.ki,{placeholder:"Chọn biến thể..."})}),(0,a.jsx)(g.Bw,{children:null==o?void 0:o.variants.map(e=>(0,a.jsxs)(g.Ql,{value:e.id,children:[e.storageCapacity," - ",e.colorName]},e.id))})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u._,{htmlFor:"unit-cost",children:"Gi\xe1 nhập (VNĐ)"}),(0,a.jsx)(m.I,{id:"unit-cost",type:"number",placeholder:"31000000",value:n||"",onChange:e=>c(Number(e.target.value)),disabled:d})]})]})]})}var v=s(2489),y=s(2252),N=s(5937);let j=e=>15===e.length&&/^\d+$/.test(e),I=(e,t)=>{let s=e[t].trim();return!!s&&e.some((e,a)=>a!==t&&e.trim()===s)},b=(e,t,s,a)=>a[s]?a[s]:e.trim()?I(t,s)?"IMEI n\xe0y đ\xe3 được nhập ở tr\xean":j(e.trim())?null:"IMEI phải c\xf3 đ\xfang 15 chữ số":null;function w(e){let{imeiList:t,onImeiChange:s,onAddImei:r,onRemoveImei:i,errors:l={},isLoading:d=!1}=e,o=t.filter(e=>{let t=e.trim();return t&&j(t)}).length;return(0,a.jsxs)(h.Zb,{children:[(0,a.jsx)(h.Ol,{children:(0,a.jsxs)(h.ll,{className:"flex items-center justify-between",children:["Danh s\xe1ch IMEI/Serial",(0,a.jsxs)(n.z,{variant:"outline",size:"sm",onClick:r,disabled:d,children:[(0,a.jsx)(c.Z,{className:"w-4 h-4 mr-1"}),"Th\xeam IMEI"]})]})}),(0,a.jsxs)(h.aY,{className:"space-y-4",children:[(0,a.jsx)("div",{className:"space-y-3",children:t.map((e,r)=>{let c=b(e,t,r,l),o=!!c;return(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)(u._,{htmlFor:"imei-".concat(r),className:"sr-only",children:["IMEI ",r+1]}),(0,a.jsx)(m.I,{id:"imei-".concat(r),placeholder:"Nhập IMEI ".concat(r+1," (15 số)..."),value:e,onChange:e=>s(r,e.target.value),maxLength:15,className:o?"border-red-500":"",disabled:d})]}),t.length>1&&(0,a.jsx)(n.z,{variant:"ghost",size:"sm",onClick:()=>i(r),className:"text-red-500 hover:text-red-700",disabled:d,children:(0,a.jsx)(v.Z,{className:"w-4 h-4"})})]}),o&&(0,a.jsx)(N.bZ,{variant:"destructive",className:"py-2",children:(0,a.jsx)(N.X,{className:"text-xs",children:c})})]},r)})}),(0,a.jsx)("div",{className:"bg-blue-50 p-3 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,a.jsx)(y.Z,{className:"w-4 h-4 text-blue-500 mt-0.5"}),(0,a.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,a.jsxs)("p",{className:"text-blue-800 font-medium",children:["IMEI hợp lệ: ",o,"/",t.length]}),(0,a.jsxs)("ul",{className:"text-blue-600 space-y-1",children:[(0,a.jsx)("li",{children:"• Mỗi IMEI phải c\xf3 đ\xfang 15 chữ số"}),(0,a.jsx)("li",{children:"• IMEI kh\xf4ng được tr\xf9ng lặp"}),(0,a.jsx)("li",{children:"• IMEI phải l\xe0 duy nhất trong hệ thống"}),(0,a.jsx)("li",{children:"• Tồn kho sẽ được cập nhật tự động"})]})]})]})})]})]})}var D=s(1593),C=s(4794),k=s(401),E=s(3229);function S(e){let{totalItems:t,unitCost:s,totalValue:r,selectedProductName:i,selectedVariantName:l,isValid:c,onConfirm:d,onSaveDraft:o,isLoading:m}=e,u=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e);return(0,a.jsxs)(h.Zb,{children:[(0,a.jsx)(h.Ol,{children:(0,a.jsxs)(h.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(C.Z,{className:"w-5 h-5"}),"T\xf3m tắt phiếu nhập"]})}),(0,a.jsxs)(h.aY,{className:"space-y-4",children:[i&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Sản phẩm"}),(0,a.jsx)("p",{className:"text-lg font-semibold",children:i}),l&&(0,a.jsx)("p",{className:"text-sm text-gray-600",children:l})]}),(0,a.jsx)(D.Z,{}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Số lượng IMEI:"}),(0,a.jsx)("span",{className:"font-medium",children:t})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Gi\xe1 nhập/m\xe1y:"}),(0,a.jsx)("span",{className:"font-medium",children:u(s)})]}),(0,a.jsx)(D.Z,{}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"font-medium",children:"Tổng gi\xe1 trị:"}),(0,a.jsx)("span",{className:"text-lg font-bold text-green-600",children:u(r)})]})]}),(0,a.jsxs)("div",{className:"space-y-2 pt-4",children:[(0,a.jsx)(n.z,{onClick:d,disabled:!c||m,className:"w-full",size:"lg",children:m?"Đang xử l\xfd...":(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(k.Z,{className:"w-4 h-4 mr-2"}),"X\xe1c nhận nhập kho"]})}),(0,a.jsxs)(n.z,{onClick:o,disabled:m,variant:"outline",className:"w-full",children:[(0,a.jsx)(E.Z,{className:"w-4 h-4 mr-2"}),"Lưu nh\xe1p"]})]}),!c&&(0,a.jsxs)("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded-lg",children:[(0,a.jsx)("p",{className:"font-medium",children:"Vui l\xf2ng kiểm tra:"}),(0,a.jsxs)("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[!i&&(0,a.jsx)("li",{children:"Chọn sản phẩm"}),!l&&(0,a.jsx)("li",{children:"Chọn biến thể"}),0===t&&(0,a.jsx)("li",{children:"Nhập \xedt nhất 1 IMEI hợp lệ"}),s<=0&&(0,a.jsx)("li",{children:"Nhập gi\xe1 nhập hợp lệ"})]})]})]})]})}var O=s(9174),R=s(1047),A=s(2369),T=s(2208),P=s(4630),M=s(8930),L=s(4291),V=s(3448);let _=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,V.cn)("w-full caption-bottom text-sm",s),...r})})});_.displayName="Table";let U=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("thead",{ref:t,className:(0,V.cn)("[&_tr]:border-b",s),...r})});U.displayName="TableHeader";let Z=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,V.cn)("[&_tr:last-child]:border-0",s),...r})});Z.displayName="TableBody",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,V.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...r})}).displayName="TableFooter";let K=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tr",{ref:t,className:(0,V.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...r})});K.displayName="TableRow";let B=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("th",{ref:t,className:(0,V.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...r})});B.displayName="TableHead";let J=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("td",{ref:t,className:(0,V.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...r})});J.displayName="TableCell",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("caption",{ref:t,className:(0,V.cn)("mt-4 text-sm text-muted-foreground",s),...r})}).displayName="TableCaption";var F=s(6275),z=s(2720),q=s(5252),Y=s(8124);let X=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),$=e=>new Date(e).toLocaleDateString("vi-VN"),H=e=>{let t={completed:{label:"Ho\xe0n th\xe0nh",variant:"default"},pending:{label:"Đang xử l\xfd",variant:"secondary"},cancelled:{label:"Đ\xe3 hủy",variant:"destructive"}}[e]||{label:e,variant:"secondary"};return(0,a.jsx)(O.C,{variant:t.variant,children:t.label})};function Q(e){let{isOpen:t,onClose:s,intakeItem:r}=e;return t&&r?(0,a.jsx)(L.Vq,{open:t,onOpenChange:s,children:(0,a.jsxs)(L.cZ,{className:"sm:max-w-2xl",children:[(0,a.jsxs)(L.fK,{children:[(0,a.jsxs)(L.$N,{children:["Chi tiết phiếu nhập: ",r.orderNumber]}),(0,a.jsx)(L.Be,{children:"Xem th\xf4ng tin chi tiết của phiếu nhập kho."})]}),(0,a.jsxs)("div",{className:"grid gap-6 py-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-sm font-medium text-gray-500 flex items-center mb-1",children:[(0,a.jsx)(R.Z,{className:"w-4 h-4 mr-2 text-gray-400"}),"Ng\xe0y nhập"]}),(0,a.jsx)("p",{className:"font-medium",children:$(r.orderDate)})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-sm font-medium text-gray-500 flex items-center mb-1",children:[(0,a.jsx)(A.Z,{className:"w-4 h-4 mr-2 text-gray-400"}),"Người nhận"]}),(0,a.jsx)("p",{className:"font-medium",children:r.receivedByName})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-sm font-medium text-gray-500 flex items-center mb-1",children:[(0,a.jsx)(F.Z,{className:"w-4 h-4 mr-2 text-gray-400"}),"Nh\xe0 cung cấp"]}),(0,a.jsx)("p",{className:"font-medium",children:r.supplierName})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-sm font-medium text-gray-500 flex items-center mb-1",children:[(0,a.jsx)(z.Z,{className:"w-4 h-4 mr-2 text-gray-400"}),"Trạng th\xe1i"]}),H(r.status)]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-sm font-medium text-gray-500 flex items-center mb-1",children:[(0,a.jsx)(C.Z,{className:"w-4 h-4 mr-2 text-gray-400"}),"Tổng số IMEI"]}),(0,a.jsx)("p",{className:"font-medium",children:r.totalItemsReceived})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-sm font-medium text-gray-500 flex items-center mb-1",children:[(0,a.jsx)(q.Z,{className:"w-4 h-4 mr-2 text-gray-400"}),"Tổng tiền"]}),(0,a.jsx)("p",{className:"font-semibold text-lg text-green-600",children:X(r.totalAmount)})]})]}),(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsxs)("h4",{className:"font-semibold text-md mb-2 flex items-center",children:[(0,a.jsx)(Y.Z,{className:"w-5 h-5 mr-2 text-gray-700"}),"Sản phẩm đ\xe3 nhập"]}),(0,a.jsx)("div",{className:"border rounded-md",children:(0,a.jsxs)(_,{children:[(0,a.jsx)(U,{children:(0,a.jsxs)(K,{children:[(0,a.jsx)(B,{className:"font-semibold",children:"T\xean sản phẩm"}),(0,a.jsx)(B,{className:"text-right font-semibold",children:"Số lượng"}),(0,a.jsx)(B,{className:"text-right font-semibold",children:"Th\xe0nh tiền"})]})}),(0,a.jsx)(Z,{children:r.products.length>0?r.products.map((e,t)=>(0,a.jsxs)(K,{children:[(0,a.jsx)(J,{children:e.productName}),(0,a.jsx)(J,{className:"text-right",children:e.quantity}),(0,a.jsx)(J,{className:"text-right",children:X(e.totalCost)})]},t)):(0,a.jsx)(K,{children:(0,a.jsx)(J,{colSpan:3,className:"text-center text-gray-500 py-4",children:"Kh\xf4ng c\xf3 th\xf4ng tin sản phẩm. (Danh s\xe1ch sản phẩm trống)"})})})]})})]})]}),(0,a.jsx)(L.cN,{className:"mt-2",children:(0,a.jsx)(n.z,{variant:"outline",onClick:s,children:"Đ\xf3ng"})})]})}):null}function W(e){let{intakes:t,isLoading:s,onViewDetails:i,onEdit:l,onDelete:c}=e,[d,o]=(0,r.useState)(!1),[m,u]=(0,r.useState)(null),p=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),x=e=>new Date(e).toLocaleDateString("vi-VN"),g=e=>{let t={completed:{label:"Ho\xe0n th\xe0nh",variant:"default"},pending:{label:"Đang xử l\xfd",variant:"secondary"},cancelled:{label:"Đ\xe3 hủy",variant:"destructive"}}[e]||{label:e,variant:"secondary"};return(0,a.jsx)(O.C,{variant:t.variant,children:t.label})},f=e=>{let s=t.find(t=>t.id===e);s&&(u(s),o(!0))};return s?(0,a.jsxs)(h.Zb,{children:[(0,a.jsx)(h.Ol,{children:(0,a.jsx)(h.ll,{children:"Lịch sử nhập kho"})}),(0,a.jsx)(h.aY,{children:(0,a.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,a.jsx)("div",{className:"text-gray-500",children:"Đang tải..."})})})]}):0===t.length?(0,a.jsxs)(h.Zb,{children:[(0,a.jsx)(h.Ol,{children:(0,a.jsx)(h.ll,{children:"Lịch sử nhập kho"})}),(0,a.jsx)(h.aY,{children:(0,a.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,a.jsx)("div",{className:"text-gray-500",children:"Chưa c\xf3 phiếu nhập kho n\xe0o"})})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(h.Zb,{children:[(0,a.jsx)(h.Ol,{children:(0,a.jsx)(h.ll,{children:"Lịch sử nhập kho"})}),(0,a.jsx)(h.aY,{children:(0,a.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,a.jsxs)("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-lg",children:e.orderNumber}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600 mt-1",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(R.Z,{className:"w-4 h-4"}),x(e.orderDate)]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(A.Z,{className:"w-4 h-4"}),e.receivedByName]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(C.Z,{className:"w-4 h-4"}),e.totalItemsReceived," IMEI"]})]})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:g(e.status)})]}),e.products&&e.products.length>0&&(0,a.jsxs)("div",{className:"mt-3 pt-3 border-t",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Sản phẩm đ\xe3 nhập:"}),(0,a.jsx)("ul",{className:"space-y-1 text-sm",children:e.products.map((e,t)=>(0,a.jsxs)("li",{className:"flex justify-between",children:[(0,a.jsxs)("span",{children:[e.productName," (SL: ",e.quantity,")"]}),(0,a.jsx)("span",{children:p(e.totalCost)})]},t))})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Nh\xe0 cung cấp:"}),(0,a.jsx)("p",{className:"font-medium",children:e.supplierName}),(0,a.jsx)("p",{className:"text-lg font-bold text-green-600 mt-1",children:p(e.totalAmount)})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(n.z,{variant:"outline",size:"sm",onClick:()=>f(e.id),children:[(0,a.jsx)(T.Z,{className:"w-4 h-4 mr-1"}),"Xem"]}),(0,a.jsxs)(n.z,{variant:"outline",size:"sm",onClick:()=>l(e.id),children:[(0,a.jsx)(P.Z,{className:"w-4 h-4 mr-1"}),"Sửa"]}),(0,a.jsxs)(n.z,{variant:"outline",size:"sm",onClick:()=>c(e.id),className:"text-red-600 hover:bg-red-50",children:[(0,a.jsx)(M.Z,{className:"w-4 h-4 mr-1"}),"X\xf3a"]})]})]})]},e.id))})})]}),(0,a.jsx)(Q,{isOpen:d,onClose:()=>o(!1),intakeItem:m})]})}var G=s(6410),ee=s(8086),et=s(3976);class es extends ee.bQ{async createPurchaseOrderWithIntake(e,t){try{return await this.runTransaction(async s=>{let a=[];for(let t of e.items)for(let e of t.imeis){if(!(0,ee.eJ)(e))throw Error("IMEI kh\xf4ng hợp lệ: ".concat(e,". IMEI phải c\xf3 đ\xfang 15 chữ số."));if(a.includes(e))throw Error("IMEI tr\xf9ng lặp trong phiếu nhập: ".concat(e));a.push(e)}for(let e of(await Promise.all(a.map(async e=>{let t=(0,d.IO)((0,d.hJ)(G.db,"inventoryItems"),(0,d.ar)("imei","==",e),(0,d.b9)(1)),s=await (0,d.PL)(t);return{imei:e,exists:!s.empty,doc:s.docs[0]}}))))if(e.exists){let t=e.doc.data().status;if("in_stock"===t||"sold"===t)throw Error("IMEI ".concat(e.imei," đ\xe3 tồn tại trong kho hoặc đ\xe3 b\xe1n. Kh\xf4ng thể nhập lại."));if("returned"===t)throw Error("IMEI ".concat(e.imei," đ\xe3 được trả lại. Bạn c\xf3 muốn nhập lại v\xe0o kho kh\xf4ng?"))}let r={};for(let t of e.items){let e=(0,d.JU)(G.db,et.Ul.PRODUCTS,t.productId),a=await s.get(e);if(!a.exists())throw Error("Sản phẩm kh\xf4ng tồn tại: ".concat(t.productId));let n=(0,d.JU)(G.db,et.Ul.PRODUCTS,t.productId,et.Ul.VARIANTS,t.variantId),i=await s.get(n);if(!i.exists())throw Error("Biến thể sản phẩm kh\xf4ng tồn tại: ".concat(t.variantId));if(r[t.variantId]={product:a.data(),variant:i.data()},t.unitCost<=0)throw Error("Gi\xe1 nhập phải l\xe0 số dương")}let n=(0,ee.m1)("PO"),i=d.EK.now(),l=0,c=0;for(let t of e.items){let e=t.imeis.length*t.unitCost;l+=e,c+=t.imeis.length}let o={orderNumber:n,supplierName:e.supplier.name||"Nh\xe0 cung cấp",orderDate:i,expectedDeliveryDate:e.expectedDeliveryDate?d.EK.fromDate(e.expectedDeliveryDate):new d.EK(i.seconds+604800,i.nanoseconds),actualDeliveryDate:i,status:"completed",subtotal:l,taxAmount:0,shippingCost:0,totalAmount:l,currency:"VND",paidAmount:0,paymentStatus:"pending",receivedBy:t,receivedByName:"",qualityChecked:!0,qualityCheckedBy:t,hasDiscrepancies:!1,totalItemsOrdered:c,totalItemsReceived:c,totalVariants:e.items.length,notes:e.notes||"",createdAt:i,updatedAt:i,createdBy:t,updatedBy:t},h=(0,d.JU)((0,d.hJ)(G.db,et.Ul.PURCHASE_ORDERS));s.set(h,o);let m=[];for(let a of e.items){let e=r[a.variantId],n=e.product,l=e.variant,c={productId:a.productId,variantId:a.variantId,productName:(null==n?void 0:n.name)||"Kh\xf4ng r\xf5 t\xean sản phẩm",variantSku:(null==l?void 0:l.sku)||"Kh\xf4ng r\xf5 SKU",colorName:(null==l?void 0:l.colorName)||"Kh\xf4ng r\xf5 m\xe0u",storageCapacity:(null==l?void 0:l.storageCapacity)||"Kh\xf4ng r\xf5 dung lượng",quantityOrdered:a.imeis.length,quantityReceived:a.imeis.length,quantityPending:0,quantityRejected:0,unitCost:a.unitCost,totalCost:a.imeis.length*a.unitCost,receivedImeis:a.imeis,receivedDate:i,receivedBy:t,condition:a.condition||"new",qualityNotes:a.notes||"",notes:a.notes||"",createdAt:i,updatedAt:i,createdBy:t,updatedBy:t},o=(0,d.JU)((0,d.hJ)(G.db,et.Ul.PURCHASE_ORDERS,h.id,et.N9.ORDER_ITEMS));s.set(o,c),m.push({...c,id:o.id})}let u=[];for(let a of e.items){let l=r[a.variantId],c=l.product,o=l.variant;for(let r of a.imeis){let l={imei:r,productId:a.productId,variantId:a.variantId,productName:(null==c?void 0:c.name)||"Kh\xf4ng r\xf5 t\xean sản phẩm",variantSku:(null==o?void 0:o.sku)||"Kh\xf4ng r\xf5 SKU",colorName:(null==o?void 0:o.colorName)||"Kh\xf4ng r\xf5 m\xe0u",storageCapacity:(null==o?void 0:o.storageCapacity)||"Kh\xf4ng r\xf5 dung lượng",status:et.eM.IN_STOCK,entryDate:i,entryPrice:a.unitCost,supplierName:e.supplier.name||"Nh\xe0 cung cấp",purchaseOrderId:h.id,currentLocation:a.location||"Main Store",warehouseStaffId:t,condition:a.condition||"new",qualityNotes:a.notes||"",warrantyPeriodMonths:12,isDisplayUnit:!1,isRefurbished:!1,hasDefects:!1,needsRepair:!1,originalRetailPrice:(null==o?void 0:o.retailPrice)||0,currentRetailPrice:(null==o?void 0:o.retailPrice)||0,notes:a.notes||"",tags:[],lastStatusChange:i,lastLocationChange:i,lastPriceUpdate:i,createdAt:i,updatedAt:i,createdBy:t,updatedBy:t},m=(0,d.JU)((0,d.hJ)(G.db,et.Ul.INVENTORY));s.set(m,l),u.push({...l,id:m.id});let p={inventoryItemId:m.id,imei:r,movementType:et.$D.IMPORT,timestamp:i,quantityChange:1,newStatus:et.eM.IN_STOCK,fromLocation:"",toLocation:a.location||"Main Store",userId:t,userRole:"inventory_staff",reason:"Nhập kho mới",notes:"Nhập kho từ phiếu nhập ".concat(n),relatedOrderId:h.id,relatedDocumentType:"purchase",createdAt:i,updatedAt:i,createdBy:t,updatedBy:t},x=(0,d.JU)((0,d.hJ)(G.db,et.Ul.STOCK_MOVEMENTS));s.set(x,p)}}return{purchaseOrder:{...o,id:h.id},inventoryItems:u}})}catch(e){return console.error("Inventory intake error:",e),{success:!1,error:e.message||"Kh\xf4ng thể thực hiện nhập kho",errorCode:"INTAKE_FAILED"}}}async validateImeiForIntake(e){try{if(!(0,ee.eJ)(e))return{success:!0,data:{isValid:!1,exists:!1,canReimport:!1}};let t=(0,d.IO)((0,d.hJ)(G.db,"inventoryItems"),(0,d.ar)("imei","==",e),(0,d.b9)(1)),s=await (0,d.PL)(t);if(s.empty)return{success:!0,data:{isValid:!0,exists:!1,canReimport:!1}};let a=s.docs[0].data(),r="returned"===a.status;return{success:!0,data:{isValid:!0,exists:!0,currentStatus:a.status,canReimport:r}}}catch(e){return this.handleError(e)}}async validateImeiList(e){try{let s=[],a=[],r=[];for(let t of e){if(!(0,ee.eJ)(t)){a.push(t);continue}s.push(t)}for(let e of(await Promise.all(s.map(async e=>{let t=await this.validateImeiForIntake(e);return{imei:e,result:t.data}})))){var t;(null===(t=e.result)||void 0===t?void 0:t.exists)&&r.push({imei:e.imei,status:e.result.currentStatus||"",canReimport:e.result.canReimport||!1})}return{success:!0,data:{valid:s,invalid:a,existing:r}}}catch(e){return this.handleError(e)}}async getAvailableStockByVariant(e){try{let t=(0,d.IO)((0,d.hJ)(G.db,"inventoryItems"),(0,d.ar)("variantId","==",e),(0,d.ar)("status","in",["in_stock","returned_available"]),(0,d.Xo)("entryDate","asc")),s=(await (0,d.PL)(t)).docs.map(e=>({id:e.id,...e.data()}));return{success:!0,data:s}}catch(e){return this.handleError(e)}}async findByImei(e){try{let t=(0,d.IO)((0,d.hJ)(G.db,"inventoryItems"),(0,d.ar)("imei","==",e),(0,d.b9)(1)),s=await (0,d.PL)(t);if(s.empty)return{success:!0,data:null};let a={id:s.docs[0].id,...s.docs[0].data()};return{success:!0,data:a}}catch(e){return this.handleError(e)}}async createStockMovement(e,t){try{let s=await this.getById(e.inventoryItemId);if(!s.success||!s.data)return{success:!1,error:"Kh\xf4ng t\xecm thấy sản phẩm trong kho",errorCode:"ITEM_NOT_FOUND"};let a=s.data,r=d.EK.now(),n={inventoryItemId:e.inventoryItemId,imei:a.imei,movementType:e.movementType,timestamp:r,quantityChange:this.getQuantityChange(e.movementType),previousStatus:a.status,newStatus:e.newStatus||a.status,fromLocation:a.currentLocation,toLocation:e.toLocation||a.currentLocation,userId:t,userRole:"inventory_staff",reason:e.reason||"",notes:e.notes||"",relatedOrderId:e.relatedOrderId,relatedDocumentType:e.relatedDocumentType};return await this.create(n,t)}catch(e){return this.handleError(e)}}async getItemMovementHistory(e){try{let t=(0,d.IO)((0,d.hJ)(G.db,"stockMovements"),(0,d.ar)("inventoryItemId","==",e),(0,d.Xo)("timestamp","desc")),s=(await (0,d.PL)(t)).docs.map(e=>({id:e.id,...e.data()}));return{success:!0,data:s}}catch(e){return this.handleError(e)}}async searchInventory(e){try{let t=[];e.variantId&&t.push((0,d.ar)("variantId","==",e.variantId)),e.status&&e.status.length>0&&t.push((0,d.ar)("status","in",e.status)),e.imei&&t.push((0,d.ar)("imei","==",e.imei)),e.location&&e.location.length>0&&t.push((0,d.ar)("currentLocation","in",e.location));let s=e.sortBy||"entryDate",a=e.sortOrder||"desc";t.push((0,d.Xo)(s,a)),e.limit&&t.push((0,d.b9)(e.limit));let r=(0,d.IO)((0,d.hJ)(G.db,"inventoryItems"),...t),n=(await (0,d.PL)(r)).docs.map(e=>({id:e.id,...e.data()}));return{success:!0,data:n}}catch(e){return this.handleError(e)}}async getRecentPurchaseOrders(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;try{let t=(0,d.IO)((0,d.hJ)(G.db,"purchaseOrders"),(0,d.Xo)("orderDate","desc"),(0,d.b9)(e)),s=(await (0,d.PL)(t)).docs.map(e=>({id:e.id,...e.data()}));return{success:!0,data:s}}catch(e){return this.handleError(e)}}async getPurchaseOrderWithItems(e){try{let t=(0,d.JU)(G.db,et.Ul.PURCHASE_ORDERS,e),s=await (0,d.QT)(t);if(!s.exists())return{success:!1,error:"Kh\xf4ng t\xecm thấy phiếu nhập kho với ID: "+e,errorCode:"ORDER_NOT_FOUND"};let a={id:s.id,...s.data()},r=(0,d.IO)((0,d.hJ)(G.db,et.Ul.PURCHASE_ORDERS,e,et.N9.ORDER_ITEMS),(0,d.Xo)("createdAt","asc")),n=(await (0,d.PL)(r)).docs.map(e=>({id:e.id,...e.data()}));return{success:!0,data:{order:a,items:n}}}catch(e){return this.handleError(e)}}getQuantityChange(e){switch(e){case et.$D.IMPORT:case et.$D.RETURN:case et.$D.WARRANTY_IN:return 1;case et.$D.SALE:case et.$D.WARRANTY_OUT:case et.$D.DAMAGED:case et.$D.LOST:return -1;default:return 0}}constructor(){super(et.Ul.INVENTORY)}}let ea=new es;var er=s(87);function en(){let{user:e}=(0,o.aC)(),[t,s]=(0,r.useState)(!1),[h,m]=(0,r.useState)(!0),[u,p]=(0,r.useState)(!0),[g,v]=(0,r.useState)([]),[y,N]=(0,r.useState)([]),[j,I]=(0,r.useState)("Apple Việt Nam"),[b,D]=(0,r.useState)(new Date().toISOString().split("T")[0]),[C,k]=(0,r.useState)(""),[E,O]=(0,r.useState)(""),[R,A]=(0,r.useState)(""),[T,P]=(0,r.useState)(""),[M,L]=(0,r.useState)(31e6),[V,_]=(0,r.useState)([""]),[U,Z]=(0,r.useState)({});(0,r.useEffect)(()=>{K(),B()},[]);let K=async()=>{try{m(!0);let e=await er._.getProductsWithVariantsForDropdown();console.log("Loading products for dropdown:",e),e.success&&e.data?(v(e.data),console.log("Loaded products:",e.data)):(console.error("Failed to load products:",e.error),l.Am.error(e.error||"Kh\xf4ng thể tải danh s\xe1ch sản phẩm"))}catch(e){console.error("Error loading products:",e),l.Am.error("Kh\xf4ng thể tải danh s\xe1ch sản phẩm")}finally{m(!1)}},B=async()=>{try{p(!0);let e=await ea.getRecentPurchaseOrders(20);if(e.success&&e.data){let t=e.data.map(async e=>{let t=await ea.getPurchaseOrderWithItems(e.id),s=[],a=e;if(t.success&&t.data){let e=t.data.order,r=t.data.items;a=e,r&&Array.isArray(r)&&(s=r.map(e=>({productName:"".concat(e.productName||"Sản phẩm kh\xf4ng t\xean"," ").concat(e.storageCapacity||""," ").concat(e.colorName||""," (").concat(e.variantSku||"N/A",")").trim(),quantity:e.quantityReceived||0,totalCost:e.totalCost||0})))}else console.warn("Could not fetch details for order ".concat(e.orderNumber,": ").concat(t.error));return{id:a.id,orderNumber:a.orderNumber,orderDate:a.orderDate.toDate().toISOString(),supplierName:a.supplierName,receivedByName:a.receivedByName||"Nh\xe2n vi\xean kho",totalItemsReceived:a.totalItemsReceived,status:a.status,totalAmount:a.totalAmount,products:s}}),s=await Promise.all(t);N(s),console.log("Loaded intake history with detailed products:",s)}else l.Am.error(e.error||"Kh\xf4ng thể tải lịch sử nhập kho")}catch(e){console.error("Error loading intake history:",e),l.Am.error("Kh\xf4ng thể tải lịch sử nhập kho")}finally{p(!1)}},J=(0,r.useCallback)(async e=>{let t={},s=e.filter(e=>e.trim());if(0===s.length)return t;try{let a=await ea.validateImeiList(s);if(a.success&&a.data){let{invalid:r,existing:n}=a.data;s.forEach((s,a)=>{let n=e.indexOf(s);r.includes(s)&&(t[n]="IMEI kh\xf4ng hợp lệ (phải c\xf3 15 chữ số)")}),n.forEach(s=>{let{imei:a,status:r,canReimport:n}=s,i=e.indexOf(a);-1!==i&&(n?t[i]="IMEI đ\xe3 được trả lại. C\xf3 thể nhập lại.":t[i]="IMEI đ\xe3 tồn tại với trạng th\xe1i: ".concat(r))})}}catch(e){console.error("Error validating IMEIs:",e),l.Am.error("Lỗi khi kiểm tra IMEI")}return Z(t),t},[]);(0,r.useEffect)(()=>{let e=setTimeout(()=>{J(V)},500);return()=>clearTimeout(e)},[V,J]);let F=V.filter((e,t)=>e.trim()&&15===e.length&&/^\d+$/.test(e)&&!U[t]),z=R&&T&&M>0&&F.length>0&&Object.keys(U).every(e=>!U[parseInt(e)]),q=F.length*M,Y=g.find(e=>e.id===R),X=null==Y?void 0:Y.variants.find(e=>e.id===T),$=null==Y?void 0:Y.name,H=X?"".concat(X.storageCapacity," - ").concat(X.colorName):void 0,Q=async()=>{if(console.log(z,e),console.log("Confirming intake with data:",{supplierName:j,orderDate:b,expectedDeliveryDate:C,notes:E,selectedProductId:R,selectedVariantId:T,unitCost:M,imeiList:F}),console.log("isFormValid",z),!z){l.Am.error("Vui l\xf2ng kiểm tra lại th\xf4ng tin nhập kho");return}if(!e){l.Am.error("Phi\xean đăng nhập đ\xe3 hết hạn");return}console.log("isFormValid",z),s(!0);try{let s={id:"",name:j,code:j.replace(/\s+/g,"_").toUpperCase(),primaryContact:{name:j,phone:"",email:"",isMainContact:!0},addresses:[],businessInfo:{taxId:"",businessType:"manufacturer"},status:"active",isPreferred:!1,isApproved:!0,requiresApproval:!1,createdAt:d.EK.now(),updatedAt:d.EK.now(),createdBy:e.uid,updatedBy:e.uid,financialInfo:{paymentTerms:"Net 30",creditLimit:void 0,currency:"VND",preferredPaymentMethod:"bank_transfer",bankAccountInfo:void 0},performance:{totalOrders:0,totalPurchaseValue:0,averageOrderValue:0,onTimeDeliveryRate:0,qualityRating:5,responsiveness:5,lastOrderDate:void 0,firstOrderDate:void 0},productCategories:[],shippingInfo:{defaultShippingMethod:"Standard",averageLeadTimeDays:7,minimumOrderQuantity:void 0,minimumOrderValue:void 0,shippingTerms:"other",canDropShip:!1},qualityInfo:{certifications:[],qualityPolicies:void 0,returnPolicy:void 0,warrantyTerms:void 0},relationship:{partnershipLevel:"preferred",contractStartDate:void 0,contractEndDate:void 0,exclusiveProducts:void 0,volumeDiscounts:void 0,negotiatedRates:void 0},communicationPreferences:{preferredContactMethod:"email",orderNotifications:!0,invoiceNotifications:!0,promotionNotifications:!1,language:"vi",timezone:"Asia/Ho_Chi_Minh"}},a={supplierName:"",items:[{productId:R,variantId:T,imeis:F,unitCost:M,condition:"new",location:"Main Store",notes:E}],notes:E,supplier:s,expectedDeliveryDate:C?new Date(C):void 0};console.log("Creating intake with data:",a);let r=await ea.createPurchaseOrderWithIntake(a,e.uid);if(r.success){var t;l.Am.success("✅ Đ\xe3 tạo phiếu nhập với ".concat(F.length," IMEI"),{description:"M\xe3 phiếu: ".concat(null===(t=r.data)||void 0===t?void 0:t.purchaseOrder.orderNumber)}),A(""),P(""),_([""]),O(""),L(31e6),Z({}),await B()}else l.Am.error("❌ "+(r.error||"Kh\xf4ng thể tạo phiếu nhập kho"))}catch(e){console.error("Error creating intake:",e),l.Am.error("❌ C\xf3 lỗi xảy ra: "+e.message)}finally{s(!1)}};(0,r.useEffect)(()=>{let e=localStorage.getItem("inventory_draft");if(e)try{var t;let s=JSON.parse(e);I(s.supplierName||"Apple Việt Nam"),D(s.orderDate||new Date().toISOString().split("T")[0]),k(s.expectedDeliveryDate||""),O(s.notes||""),A(s.selectedProductId||""),P(s.selectedVariantId||""),L(s.unitCost||31e6),_((null===(t=s.imeiList)||void 0===t?void 0:t.length)>0?s.imeiList:[""]),l.Am.info("\uD83D\uDCC4 Đ\xe3 kh\xf4i phục nh\xe1p đ\xe3 lưu")}catch(e){console.error("Error loading draft:",e)}},[]);let G=async e=>{try{let t=await ea.getPurchaseOrderWithItems(e);t.success&&t.data&&(console.log("Order details:",t.data),l.Am.info("\uD83D\uDCCB Chi tiết phiếu ".concat(t.data.order.orderNumber)))}catch(e){console.error("Error loading order details:",e),l.Am.error("Kh\xf4ng thể tải chi tiết phiếu nhập")}},ee=async e=>{confirm("Bạn c\xf3 chắc chắn muốn x\xf3a phiếu nhập n\xe0y?")&&(console.log("Delete intake:",e),l.Am.info("\uD83D\uDDD1️ T\xednh năng x\xf3a đang ph\xe1t triển"))};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Nhập kho"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Quản l\xfd nhập kho sản phẩm iPhone theo IMEI"})]}),(0,a.jsxs)(n.z,{onClick:()=>{localStorage.removeItem("inventory_draft"),A(""),P(""),_([""]),O(""),L(31e6),Z({}),l.Am.info("\uD83D\uDCDD Đ\xe3 tạo phiếu nhập mới")},children:[(0,a.jsx)(c.Z,{className:"w-4 h-4 mr-2"}),"Tạo phiếu nhập mới"]})]}),(0,a.jsxs)(i.mQ,{defaultValue:"new-intake",className:"w-full",children:[(0,a.jsxs)(i.dr,{children:[(0,a.jsx)(i.SP,{value:"new-intake",children:"Phiếu nhập mới"}),(0,a.jsx)(i.SP,{value:"history",children:"Lịch sử nhập kho"})]}),(0,a.jsx)(i.nU,{value:"new-intake",className:"space-y-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[(0,a.jsx)(x,{supplierName:j,orderDate:b,expectedDeliveryDate:C,notes:E,onSupplierNameChange:I,onOrderDateChange:D,onExpectedDeliveryDateChange:k,onNotesChange:O,isLoading:t}),(0,a.jsx)(f,{products:g,selectedProductId:R,selectedVariantId:T,unitCost:M,onProductChange:e=>{A(e),P("");let t=g.find(t=>t.id===e);t&&t.variants.length>0&&console.log("Product selected:",t)},onVariantChange:e=>{P(e);let t=g.find(e=>e.id===R),s=null==t?void 0:t.variants.find(t=>t.id===e);if(s){let e=Math.round(.7*s.price);L(e),console.log("Variant selected:",s,"Default cost:",e)}},onUnitCostChange:L,isLoading:t||h}),(0,a.jsx)(w,{imeiList:V,onImeiChange:(e,t)=>{let s=[...V];s[e]=t,_(s)},onAddImei:()=>{_([...V,""])},onRemoveImei:e=>{if(V.length>1){_(V.filter((t,s)=>s!==e));let t={...U};delete t[e];let s={};Object.entries(t).forEach(t=>{let[a,r]=t,n=parseInt(a);n>e?s[n-1]=r:n<e&&(s[n]=r)}),Z(s)}},errors:U,isLoading:t})]}),(0,a.jsx)("div",{children:(0,a.jsx)(S,{totalItems:F.length,unitCost:M,totalValue:q,selectedProductName:$,selectedVariantName:H,isValid:!!z,onConfirm:Q,onSaveDraft:()=>{let e={supplierName:j,orderDate:b,expectedDeliveryDate:C,notes:E,selectedProductId:R,selectedVariantId:T,unitCost:M,imeiList:V.filter(e=>e.trim())};localStorage.setItem("inventory_draft",JSON.stringify(e)),l.Am.success("\uD83D\uDCDD Đ\xe3 lưu nh\xe1p")},isLoading:t})})]})}),(0,a.jsx)(i.nU,{value:"history",children:(0,a.jsx)(W,{intakes:y,isLoading:u,onViewDetails:G,onEdit:e=>{console.log("Edit intake:",e),l.Am.info("\uD83D\uDD27 T\xednh năng chỉnh sửa đang ph\xe1t triển")},onDelete:ee})})]})]})}},5937:function(e,t,s){"use strict";s.d(t,{X:function(){return d},bZ:function(){return c}});var a=s(7437),r=s(2265),n=s(535),i=s(3448);let l=(0,n.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),c=r.forwardRef((e,t)=>{let{className:s,variant:r,...n}=e;return(0,a.jsx)("div",{ref:t,role:"alert",className:(0,i.cn)(l({variant:r}),s),...n})});c.displayName="Alert",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h5",{ref:t,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",s),...r})}).displayName="AlertTitle";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",s),...r})});d.displayName="AlertDescription"},1593:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(7437),r=s(2265),n=s(5156),i=s(3448);let l=r.forwardRef((e,t)=>{let{className:s,orientation:r="horizontal",decorative:l=!0,...c}=e;return(0,a.jsx)(n.f,{ref:t,decorative:l,orientation:r,className:(0,i.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",s),...c})});l.displayName=n.f.displayName},7168:function(e,t,s){"use strict";s.d(t,{SP:function(){return d},dr:function(){return c},mQ:function(){return l},nU:function(){return o}});var a=s(7437),r=s(2265),n=s(271),i=s(3448);let l=n.fC,c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.aV,{ref:t,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...r})});c.displayName=n.aV.displayName;let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.xz,{ref:t,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...r})});d.displayName=n.xz.displayName;let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.VY,{ref:t,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...r})});o.displayName=n.VY.displayName}},function(e){e.O(0,[358,139,933,825,960,41,225,438,313,252,362,831,971,117,744],function(){return e(e.s=3223)}),_N_E=e.O()}]);