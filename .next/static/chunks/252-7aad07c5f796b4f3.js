"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[252],{9820:function(e,t,r){r.d(t,{Ol:function(){return i},SZ:function(){return u},Zb:function(){return s},aY:function(){return d},eW:function(){return l},ll:function(){return o}});var n=r(7437),a=r(2265),c=r(3448);let s=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,c.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});s.displayName="Card";let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,c.cn)("flex flex-col space-y-1.5 p-6",r),...a})});i.displayName="CardHeader";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,c.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});o.displayName="CardTitle";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,c.cn)("text-sm text-muted-foreground",r),...a})});u.displayName="CardDescription";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,c.cn)("p-6 pt-0",r),...a})});d.displayName="CardContent";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,c.cn)("flex items-center p-6 pt-0",r),...a})});l.displayName="CardFooter"},3976:function(e,t,r){r.d(t,{$D:function(){return c},N9:function(){return i},Ul:function(){return s},eM:function(){return n},sM:function(){return a}});let n={IN_STOCK:"in_stock",SOLD:"sold",RESERVED:"reserved",RETURNED:"returned",RETURNED_AVAILABLE:"returned_available",DEFECTIVE:"defective",UNDER_REPAIR:"under_repair",WARRANTY_OUT:"warranty_out",WARRANTY_IN:"warranty_in"};n.IN_STOCK,n.SOLD,n.RESERVED,n.RETURNED,n.RETURNED_AVAILABLE,n.DEFECTIVE,n.UNDER_REPAIR,n.WARRANTY_OUT,n.WARRANTY_IN;let a=[n.IN_STOCK,n.RETURNED_AVAILABLE,n.WARRANTY_IN],c={IMPORT:"import",SALE:"sale",RETURN:"return",ADJUSTMENT:"adjustment",TRANSFER:"transfer",WARRANTY_OUT:"warranty_out",WARRANTY_IN:"warranty_in",DAMAGED:"damaged",LOST:"lost"};c.IMPORT,c.SALE,c.RETURN,c.ADJUSTMENT,c.TRANSFER,c.WARRANTY_OUT,c.WARRANTY_IN,c.DAMAGED,c.LOST;let s={USERS:"users",PRODUCTS:"products",VARIANTS:"variants",INVENTORY:"inventory",SALES_ORDERS:"salesOrders",ORDER_ITEMS:"orderItems",CUSTOMERS:"customers",SUPPLIERS:"suppliers",PURCHASE_ORDERS:"purchaseOrders",RETURNS:"returns",RETURN_ITEMS:"returnItems",STOCK_MOVEMENTS:"stockMovements",REPORTS:"reports"},i={VARIANTS:"variants",ORDER_ITEMS:"orderItems",RETURN_ITEMS:"returnItems"}},6410:function(e,t,r){r.d(t,{I8:function(){return u},db:function(){return d}});var n=r(738),a=r(3301),c=r(5978),s=r(62);let i={apiKey:"AIzaSyBPy7aOXz5I8cjrVMxzyDSD-DUM4n4622I",authDomain:"phone-store-management-2025.firebaseapp.com",projectId:"phone-store-management-2025",storageBucket:"phone-store-management-2025.appspot.com",messagingSenderId:"796918304116",appId:"1:796918304116:web:537c49dd91cc9bbdba3021"},o=(0,n.C6)().length?(0,n.Mq)():(0,n.ZF)(i),u=(0,a.v0)(o),d=(0,c.ad)(o);(0,s.cF)(o),i.projectId,i.authDomain,i.storageBucket},8086:function(e,t,r){r.d(t,{Ds:function(){return d},bQ:function(){return c},eJ:function(){return s},m1:function(){return i},p6:function(){return u},xG:function(){return o}});var n=r(5978),a=r(6410);class c{handleError(e){if(console.error("".concat(this.collectionName," service error:"),e),e instanceof n.WA)switch(e.code){case"permission-denied":return{success:!1,error:"Bạn kh\xf4ng c\xf3 quyền thực hiện thao t\xe1c n\xe0y",errorCode:"PERMISSION_DENIED"};case"not-found":return{success:!1,error:"Kh\xf4ng t\xecm thấy dữ liệu y\xeau cầu",errorCode:"NOT_FOUND"};case"unavailable":return{success:!1,error:"Dịch vụ tạm thời kh\xf4ng khả dụng, vui l\xf2ng thử lại",errorCode:"UNAVAILABLE"};case"deadline-exceeded":return{success:!1,error:"Thao t\xe1c qu\xe1 thời gian chờ, vui l\xf2ng thử lại",errorCode:"TIMEOUT"};default:return{success:!1,error:"Lỗi hệ thống: ".concat(e.message),errorCode:e.code.toUpperCase()}}return{success:!1,error:"Đ\xe3 xảy ra lỗi kh\xf4ng x\xe1c định",errorCode:"UNKNOWN_ERROR"}}buildQuery(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];return e.where&&e.where.forEach(e=>{t.push((0,n.ar)(e.field,e.operator,e.value))}),e.orderBy&&e.orderBy.forEach(e=>{t.push((0,n.Xo)(e.field,e.direction))}),e.startAfter&&t.push((0,n.TQ)(e.startAfter)),e.limit&&t.push((0,n.b9)(e.limit)),(0,n.IO)(this.collectionRef,...t)}addAuditFields(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=n.EK.now(),c={updatedAt:a};return t&&(c.updatedBy=t),!r&&(c.createdAt=a,t&&(c.createdBy=t)),{...e,...c}}documentToObject(e){return{id:e.id,...e.data()}}async create(e,t){try{let r=this.addAuditFields(e,t,!1),a=await (0,n.ET)(this.collectionRef,r),c=await (0,n.QT)(a);if(!c.exists())return{success:!1,error:"Kh\xf4ng thể tạo mới dữ liệu",errorCode:"CREATE_FAILED"};return{success:!0,data:this.documentToObject(c)}}catch(e){return this.handleError(e)}}async getById(e){try{let t=(0,n.JU)(this.collectionRef,e),r=await (0,n.QT)(t);if(!r.exists())return{success:!1,error:"Kh\xf4ng t\xecm thấy dữ liệu",errorCode:"NOT_FOUND"};return{success:!0,data:this.documentToObject(r)}}catch(e){return this.handleError(e)}}async update(e,t,r){try{let a=(0,n.JU)(this.collectionRef,e),c=this.addAuditFields(t,r,!0);await (0,n.r7)(a,c);let s=await (0,n.QT)(a);if(!s.exists())return{success:!1,error:"Kh\xf4ng thể cập nhật dữ liệu",errorCode:"UPDATE_FAILED"};return{success:!0,data:this.documentToObject(s)}}catch(e){return this.handleError(e)}}async delete(e,t){try{let r=(0,n.JU)(this.collectionRef,e);try{return await (0,n.r7)(r,{isDeleted:!0,deletedAt:n.EK.now(),deletedBy:t,updatedAt:n.EK.now(),updatedBy:t}),{success:!0}}catch(e){return await (0,n.oe)(r),{success:!0}}}catch(e){return this.handleError(e)}}async list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{let t=this.buildQuery(e),r=await (0,n.PL)(t),a=r.docs.map(e=>this.documentToObject(e)),c=r.docs[r.docs.length-1],s=r.docs.length===(e.limit||a.length);return{success:!0,data:{data:a,lastDoc:c,hasMore:s}}}catch(e){return this.handleError(e)}}async search(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{let a=t.map(async t=>{let a=(0,n.IO)(this.collectionRef,(0,n.ar)(t,">=",e),(0,n.ar)(t,"<=",e+""),...r.limit?[(0,n.b9)(r.limit)]:[]);return(await (0,n.PL)(a)).docs.map(e=>this.documentToObject(e))}),c=(await Promise.all(a)).flat().filter((e,t,r)=>t===r.findIndex(t=>t.id===e.id));return{success:!0,data:c}}catch(e){return this.handleError(e)}}async batchCreate(e,t){try{let r=(0,n.qs)(a.db),c=[];e.forEach(e=>{let a=(0,n.JU)(this.collectionRef),s=this.addAuditFields(e,t,!1);r.set(a,s),c.push(a)}),await r.commit();let s=await Promise.all(c.map(async e=>{let t=await (0,n.QT)(e);return this.documentToObject(t)}));return{success:!0,data:s}}catch(e){return this.handleError(e)}}async runTransaction(e){try{let t=await (0,n.i3)(a.db,e);return{success:!0,data:t}}catch(e){return this.handleError(e)}}async exists(e){try{let t=(0,n.JU)(this.collectionRef,e),r=await (0,n.QT)(t);return{success:!0,data:r.exists()}}catch(e){return this.handleError(e)}}async count(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{let t=this.buildQuery(e),r=await (0,n.PL)(t);return{success:!0,data:r.size}}catch(e){return this.handleError(e)}}constructor(e){this.collectionName=e,this.collectionRef=(0,n.hJ)(a.db,e)}}let s=e=>/^\d{15}$/.test(e),i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"SO",t=new Date,r=t.toISOString().slice(0,10).replace(/-/g,""),n=t.getTime().toString().slice(-4);return"".concat(e,"-").concat(r,"-").concat(n)},o=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),u=e=>{let t=e instanceof n.EK?e.toDate():e;return new Intl.DateTimeFormat("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(t)},d=(e,t)=>{let r;return function(){for(var n=arguments.length,a=Array(n),c=0;c<n;c++)a[c]=arguments[c];clearTimeout(r),r=setTimeout(()=>e(...a),t)}}},3448:function(e,t,r){r.d(t,{cn:function(){return c}});var n=r(1994),a=r(3335);function c(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,n.W)(t))}}}]);